# OpenAI nano-banana-2 å¤šå›¾èåˆ API æ–‡æ¡£

## è¯·æ±‚åœ°å€

```
https://www.dmxapi.cn/v1/images/edits
```

## æ¨¡å‹åç§°

`nano-banana-2` 

## Python ä»£ç ç¤ºä¾‹

```python
"""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                                   â•‘
â•‘         ğŸ¨  DMXAPI å¤šå›¾èåˆå·¥å…·                                                    â•‘
â•‘                                                                                   â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                   â•‘
â•‘  â˜… æ ¸å¿ƒåŠŸèƒ½: å¤šå›¾èåˆ (Multi-Image Fusion)                                        â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                       â•‘
â•‘                                                                                   â•‘         â•‘
â•‘                                                                                   â•‘
â•‘    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘    â”‚  ğŸ“· å›¾ç‰‡A â”€â”                                                            â”‚   â•‘
â•‘    â”‚            â”‚                                                            â”‚   â•‘
â•‘    â”‚  ğŸ“· å›¾ç‰‡B â”€â”¼â”€â”€â–º ğŸ¤– AI æ™ºèƒ½èåˆ â”€â”€â–º ğŸ–¼ï¸ å…¨æ–°åˆæˆå›¾ç‰‡                       â”‚   â•‘
â•‘    â”‚            â”‚      + æç¤ºè¯å¼•å¯¼                                          â”‚   â•‘
â•‘    â”‚  ğŸ“· å›¾ç‰‡C â”€â”˜                                                            â”‚   â•‘
â•‘    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                                                                   â•‘
â•‘  â˜… å¤šå›¾èåˆåº”ç”¨åœºæ™¯                                                               â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                               â•‘
â•‘    â€¢ é£æ ¼è¿ç§»: å°† A å›¾çš„é£æ ¼åº”ç”¨åˆ° B å›¾çš„å†…å®¹ä¸Š                                    â•‘
â•‘    â€¢ å…ƒç´ åˆæˆ: ä»å¤šå¼ å›¾ç‰‡ä¸­æå–å…ƒç´ ï¼Œç»„åˆæˆæ–°åœºæ™¯                                   â•‘
â•‘    â€¢ è§’è‰²èåˆ: å°†ä¸åŒå›¾ç‰‡ä¸­çš„è§’è‰²èåˆåˆ°åŒä¸€ç”»é¢                                     â•‘
â•‘    â€¢ åœºæ™¯é‡æ„: ç»“åˆå¤šå¼ å‚è€ƒå›¾ï¼Œåˆ›å»ºå…¨æ–°çš„åœºæ™¯                                       â•‘
â•‘    â€¢ åˆ›æ„æ··æ­: å°†ä¸åŒé£æ ¼ã€ä¸»é¢˜çš„å›¾ç‰‡åˆ›æ„èåˆ                                       â•‘
â•‘                                                                                   â•‘
â•‘  â˜… æŠ€æœ¯è§„æ ¼                                                                       â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                                       â•‘
â•‘    â€¢ æ¨¡å‹:      nano-banana-2                                                     â•‘
â•‘    â€¢ æœ€å¤§å›¾ç‰‡:  14 å¼  (æ”¯æŒ 1-14 å¼ ä»»æ„æ•°é‡)                                       â•‘
â•‘    â€¢ å•å›¾ä¸Šé™:  50MB                                                              â•‘
â•‘    â€¢ å›¾ç‰‡æ ¼å¼:  PNG / JPG / WEBP                                                  â•‘
â•‘    â€¢ è¾“å‡ºåˆ†è¾¨ç‡: 1K / 2K / 4K å¯é€‰                                                 â•‘
â•‘    â€¢ æ¥å£åœ°å€:  https://www.dmxapi.cn/v1/images/edits                              â•‘
â•‘                                                                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#                                  ä¾èµ–å¯¼å…¥
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
import requests          # HTTP è¯·æ±‚åº“ï¼Œç”¨äºè°ƒç”¨ API æ¥å£
import base64            # Base64 ç¼–è§£ç ï¼Œç”¨äºå¤„ç†å›¾ç‰‡æ•°æ®
from datetime import datetime  # æ—¥æœŸæ—¶é—´å¤„ç†ï¼Œç”¨äºç”Ÿæˆæ–‡ä»¶å
import os                # æ“ä½œç³»ç»Ÿæ¥å£ï¼Œç”¨äºæ–‡ä»¶å’Œç›®å½•æ“ä½œ

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#                                  API é…ç½®
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
API_KEY = "sk-**********************************************"
API_URL = "https://www.dmxapi.cn/v1/images/edits"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#                          â˜… å¤šå›¾èåˆ - è¾“å…¥å›¾ç‰‡é…ç½® â˜…
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# ã€æ ¸å¿ƒåŠŸèƒ½è¯´æ˜ã€‘
#   è¿™é‡Œé…ç½®è¦èåˆçš„å¤šå¼ å›¾ç‰‡ï¼ŒAI ä¼šæ™ºèƒ½åˆ†ææ‰€æœ‰å›¾ç‰‡çš„å†…å®¹ã€é£æ ¼ã€å…ƒç´ ï¼Œ
#   ç»“åˆä¸‹æ–¹çš„æç¤ºè¯(prompt)ï¼Œç”Ÿæˆèåˆåçš„å…¨æ–°å›¾åƒã€‚
#
# ã€å¤šå›¾èåˆè§„åˆ™ã€‘
#   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
#   â”‚  ğŸ“Œ å›¾ç‰‡æ•°é‡: 1 ~ 14 å¼  (æ¨è 2-4 å¼ è·å¾—æœ€ä½³èåˆæ•ˆæœ)                     â”‚
#   â”‚  ğŸ“Œ å•å›¾å¤§å°: < 50MB                                                    â”‚
#   â”‚  ğŸ“Œ æ”¯æŒæ ¼å¼: PNG / JPG / WEBP                                          â”‚
#   â”‚  ğŸ“Œ å°ºå¯¸é™åˆ¶: æ— é™åˆ¶                                                     â”‚
#   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
#   â”‚  ğŸ’¡ èåˆæŠ€å·§:                                                            â”‚
#   â”‚     â€¢ å›¾ç‰‡è¶Šå¤šï¼Œèåˆå¤æ‚åº¦è¶Šé«˜ï¼Œå»ºè®®é…åˆç²¾å‡†çš„æç¤ºè¯                        â”‚
#   â”‚     â€¢ é£æ ¼ç›¸è¿‘çš„å›¾ç‰‡èåˆæ•ˆæœæ›´è‡ªç„¶                                        â”‚
#   â”‚     â€¢ å¯æ··åˆä¸åŒç±»å‹: é£æ™¯+äººç‰©+ç‰©å“ = åˆ›æ„åœºæ™¯                            â”‚
#   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#
# ã€é…ç½®ç¤ºä¾‹ã€‘
#   å•å›¾ç¼–è¾‘:   image_paths = ["å›¾ç‰‡1.png"]
#   åŒå›¾èåˆ:   image_paths = ["å›¾ç‰‡1.png", "å›¾ç‰‡2.png"]
#   å¤šå›¾èåˆ:   image_paths = ["å›¾ç‰‡1.png", "å›¾ç‰‡2.png", "å›¾ç‰‡3.png", ...]
#
image_paths = [
    "output/generated_image_20251217_112838_1.png",  # ğŸ–¼ï¸ èåˆç´ æ 1 
    "output/generated_image_20251217_113148_1.png",  # ğŸ–¼ï¸ èåˆç´ æ 2 
    "output/generated_image_20251217_113852_1.png",  # ğŸ–¼ï¸ èåˆç´ æ 3
]

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#                       â˜… å¤šå›¾èåˆ - ç”Ÿæˆå‚æ•°é…ç½® â˜…
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
payload = {
    # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    # â”‚ ã€èåˆæç¤ºè¯ - æœ€å…³é”®çš„å‚æ•°!ã€‘                                             â”‚
    # â”‚                                                                         â”‚
    # â”‚ æç¤ºè¯å†³å®šäº†å¤šå¼ å›¾ç‰‡å¦‚ä½•èåˆ:                                              â”‚
    # â”‚   â€¢ æè¿°ä½ å¸Œæœ›èåˆåçš„ç”»é¢æ˜¯ä»€ä¹ˆæ ·å­                                       â”‚
    # â”‚   â€¢ å¯ä»¥æŒ‡å®šä»å“ªå¼ å›¾å–ä»€ä¹ˆå…ƒç´                                             â”‚
    # â”‚   â€¢ æœ€å¤§é•¿åº¦: 32000 å­—ç¬¦                                                 â”‚
    # â”‚                                                                         â”‚
    # â”‚ ğŸ“ èåˆæç¤ºè¯ç¤ºä¾‹:                                                        â”‚
    # â”‚   "å°†ç¬¬ä¸€å¼ å›¾çš„äººç‰©æ”¾å…¥ç¬¬äºŒå¼ å›¾çš„èƒŒæ™¯ä¸­"                                    â”‚
    # â”‚   "èåˆæ‰€æœ‰å›¾ç‰‡çš„é£æ ¼ï¼Œåˆ›å»ºä¸€ä¸ªæ¢¦å¹»åœºæ™¯"                                    â”‚
    # â”‚   "ä¿ç•™ç¬¬ä¸€å¼ å›¾çš„ä¸»ä½“ï¼Œä½¿ç”¨å…¶ä»–å›¾ç‰‡çš„è‰²å½©é£æ ¼"                               â”‚
    # â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    "prompt": "å°çŒ«åœ¨åŸå¸‚çš„ä¸€å¤„æ£®æ—ä¸­è‚†æ„ç©è€",

    # ã€ç”Ÿæˆæ•°é‡ã€‘åªèƒ½æ˜¯ 1 å¼ 
    "n": 1,

    # ã€ä½¿ç”¨æ¨¡å‹ã€‘å›ºå®šä¸º nano-banana-2
    "model": "nano-banana-2",

    # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    # â”‚ ã€è¾“å‡ºå®½é«˜æ¯”ã€‘aspect_ratio                                                â”‚
    # â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    # â”‚ å®½é«˜æ¯”    â”‚ 1K åˆ†è¾¨ç‡   â”‚ ä»¤ç‰Œ   â”‚ 2K åˆ†è¾¨ç‡   â”‚ 4K åˆ†è¾¨ç‡               â”‚
    # â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    # â”‚ 1:1      â”‚ 1024x1024   â”‚ 1210   â”‚ 2048x2048   â”‚ 4096x4096               â”‚
    # â”‚ 2:3      â”‚ 848x1264    â”‚ 1210   â”‚ 1696x2528   â”‚ 3392x5056               â”‚
    # â”‚ 3:2      â”‚ 1264x848    â”‚ 1210   â”‚ 2528x1696   â”‚ 5056x3392               â”‚
    # â”‚ 3:4      â”‚ 896x1200    â”‚ 1210   â”‚ 1792x2400   â”‚ 3584x4800               â”‚
    # â”‚ 4:3      â”‚ 1200x896    â”‚ 1210   â”‚ 2400x1792   â”‚ 4800x3584               â”‚
    # â”‚ 4:5      â”‚ 928x1152    â”‚ 1210   â”‚ 1856x2304   â”‚ 3712x4608               â”‚
    # â”‚ 5:4      â”‚ 1152x928    â”‚ 1210   â”‚ 2304x1856   â”‚ 4608x3712               â”‚
    # â”‚ 9:16     â”‚ 768x1376    â”‚ 1210   â”‚ 1536x2752   â”‚ 3072x5504               â”‚
    # â”‚ 16:9     â”‚ 1376x768    â”‚ 1210   â”‚ 2752x1536   â”‚ 5504x3072               â”‚
    # â”‚ 21:9     â”‚ 1584x672    â”‚ 1210   â”‚ 3168x1344   â”‚ 6336x2688               â”‚
    # â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    # æ³¨: 2K ä»¤ç‰Œ=1210, 4K ä»¤ç‰Œ=2000
    "aspect_ratio": "5:4",

    # ã€è¾“å‡ºåˆ†è¾¨ç‡ã€‘å¯é€‰: "1K" / "2K" / "4K"
    "size": "4k",

    # ã€è¿”å›æ ¼å¼ã€‘"url" è¿”å›å›¾ç‰‡é“¾æ¥ / "b64_json" è¿”å› Base64 ç¼–ç 
    "response_format": "url"

}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#                               HTTP è¯·æ±‚å¤´é…ç½®
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
headers = {
    "Authorization": f"{API_KEY}",   # èº«ä»½éªŒè¯: Token è®¤è¯æ–¹å¼
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#                         â˜… å¤šå›¾èåˆ - ä¸»ç¨‹åºæ‰§è¡Œ â˜…
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
#  æ‰§è¡Œæµç¨‹:
#  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
#  â”‚  æ­¥éª¤ 1  â”‚  åˆ›å»ºè¾“å‡ºç›®å½•                                                   â”‚
#  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
#  â”‚  æ­¥éª¤ 2  â”‚  åŠ è½½å¤šå¼ èåˆç´ æå›¾ç‰‡                                            â”‚
#  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
#  â”‚  æ­¥éª¤ 3  â”‚  å‘é€ API è¯·æ±‚ï¼Œæ‰§è¡Œå¤šå›¾èåˆ                                      â”‚
#  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
#  â”‚  æ­¥éª¤ 4  â”‚  è§£æå“åº”ï¼Œè·å–èåˆç»“æœ                                          â”‚
#  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
#  â”‚  æ­¥éª¤ 5  â”‚  ä¿å­˜èåˆåçš„å›¾ç‰‡                                                â”‚
#  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#
try:
    print("=" * 60)
    print("ğŸ¨ DMXAPI å¤šå›¾èåˆå·¥å…· - nano-banana-2")
    print("=" * 60)

    # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    # â”‚ ã€æ­¥éª¤ 1ã€‘åˆ›å»ºè¾“å‡ºæ–‡ä»¶å¤¹                                                    â”‚
    # â”‚          æ£€æŸ¥ output ç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»º                              â”‚
    # â”‚          èåˆåçš„å›¾ç‰‡å°†ä¿å­˜åˆ°æ­¤ç›®å½•                                          â”‚
    # â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    print(f"\nğŸ“ [æ­¥éª¤ 1/5] æ£€æŸ¥è¾“å‡ºç›®å½•...")
    output_dir = "output"
    if not os.path.exists(output_dir):
        os.makedirs(output_dir)
        print(f"âœ“ å·²åˆ›å»ºè¾“å‡ºæ–‡ä»¶å¤¹: {output_dir}")
    else:
        print(f"âœ“ è¾“å‡ºæ–‡ä»¶å¤¹å·²å­˜åœ¨: {output_dir}")

    # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    # â”‚ ã€æ­¥éª¤ 2ã€‘åŠ è½½å¤šå¼ èåˆç´ æå›¾ç‰‡                                              â”‚
    # â”‚          éå† image_paths åˆ—è¡¨ï¼Œå°†æ‰€æœ‰å›¾ç‰‡å‡†å¤‡ä¸ºä¸Šä¼ æ ¼å¼                      â”‚
    # â”‚          æ”¯æŒ 1-14å¼ å›¾ç‰‡åŒæ—¶ä¸Šä¼ è¿›è¡Œèåˆ                                    â”‚
    # â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    print(f"\nğŸ“· [æ­¥éª¤ 2/5] åŠ è½½èåˆç´ æå›¾ç‰‡...")
    print(f"   é¢„è®¡åŠ è½½ {len(image_paths)} å¼ å›¾ç‰‡è¿›è¡Œèåˆ")
    files = []

    for img_path in image_paths:
        try:
            file_name = img_path.split("/")[-1]
            mime_type = "image/png" if img_path.lower().endswith(".png") else "image/jpeg"
            files.append(
                ("image", (file_name, open(img_path, "rb"), mime_type))
            )
            print(f"   âœ“ å·²åŠ è½½: {img_path}")
        except FileNotFoundError:
            print(f"   âš ï¸ è­¦å‘Š: æ–‡ä»¶æœªæ‰¾åˆ° - {img_path}")
        except Exception as e:
            print(f"   âš ï¸ è­¦å‘Š: å¤„ç†æ–‡ä»¶æ—¶å‡ºé”™ - {img_path}: {str(e)}")

    if not files:
        print("âŒ é”™è¯¯: æ²¡æœ‰å¯ç”¨çš„èåˆç´ æå›¾ç‰‡")
    else:
        # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        # â”‚ ã€æ­¥éª¤ 3ã€‘å‘é€ API è¯·æ±‚ï¼Œæ‰§è¡Œå¤šå›¾èåˆ                                       â”‚
        # â”‚          å‘ DMXAPI æœåŠ¡å™¨å‘é€ POST è¯·æ±‚                                    â”‚
        # â”‚          æºå¸¦å¤šå¼ å›¾ç‰‡ + èåˆæç¤ºè¯ï¼ŒAI å°†æ™ºèƒ½èåˆæ‰€æœ‰ç´ æ                    â”‚
        # â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        print(f"\nğŸš€ [æ­¥éª¤ 3/5] å¼€å§‹å¤šå›¾èåˆå¤„ç†...")
        print(f"   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€")
        print(f"   â”‚ ğŸ¤– æ¨¡å‹: {payload['model']}")
        print(f"   â”‚ ğŸ“ å®½é«˜æ¯”: {payload['aspect_ratio']}")
        print(f"   â”‚ ğŸ“º åˆ†è¾¨ç‡: {payload['size']}")
        print(f"   â”‚ ğŸ–¼ï¸ èåˆå›¾ç‰‡æ•°: {len(files)} å¼ ")
        print(f"   â”‚ ğŸ“ æç¤ºè¯: {payload['prompt']}")
        print(f"   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€")

        response = requests.post(API_URL, headers=headers, data=payload, files=files)
        response.raise_for_status()

        # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        # â”‚ ã€æ­¥éª¤ 4ã€‘è§£æ API å“åº”                                                     â”‚
        # â”‚          å°†æœåŠ¡å™¨è¿”å›çš„ JSON æ•°æ®è§£æä¸º Python å­—å…¸                          â”‚
        # â”‚          å“åº”ä¸­åŒ…å«èåˆåçš„å›¾ç‰‡æ•°æ®                                          â”‚
        # â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        result = response.json()
        print(f"\nâœ… [æ­¥éª¤ 4/5] èåˆå®Œæˆï¼Œæ­£åœ¨è§£æç»“æœ...")

        # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        # â”‚ ã€æ­¥éª¤ 5ã€‘ä¿å­˜èåˆåçš„å›¾ç‰‡                                                   â”‚
        # â”‚          éå†è¿”å›çš„å›¾ç‰‡æ•°æ®ï¼Œè§£ç  Base64 å¹¶ä¿å­˜åˆ°æœ¬åœ°                         â”‚
        # â”‚          æˆ–ç›´æ¥è¿”å›å›¾ç‰‡ URL é“¾æ¥                                            â”‚
        # â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        if 'data' in result and len(result['data']) > 0:
            print(f"\nğŸ’¾ [æ­¥éª¤ 5/5] ä¿å­˜èåˆç»“æœ...")

            for i, image_data in enumerate(result['data']):
                if 'b64_json' in image_data:
                    base64_data = image_data['b64_json']
                    image_bytes = base64.b64decode(base64_data)

                    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
                    filename = f"fusion_{timestamp}_{i+1}.png"  # èåˆç»“æœæ–‡ä»¶å‘½å
                    filepath = os.path.join(output_dir, filename)

                    with open(filepath, 'wb') as f:
                        f.write(image_bytes)

                    file_size = os.path.getsize(filepath) / 1024
                    print(f"   âœ“ å›¾ç‰‡ {i+1}: {filepath} ({file_size:.2f} KB)")

                elif 'url' in image_data:
                    print(f"   âœ“ å›¾ç‰‡ {i+1} URL: {image_data['url']}")
                    

            print(f"\n{'=' * 60}")
            print(f"ğŸ‰ å¤šå›¾èåˆå®Œæˆï¼")
            print(f"{'=' * 60}")
        else:
            print("âŒ æœªæ‰¾åˆ°èåˆç»“æœæ•°æ®ï¼Œè¯·æ£€æŸ¥ API å“åº”")

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#                            â˜… å¼‚å¸¸å¤„ç† â˜…
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
except requests.exceptions.RequestException as e:
    # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    # â”‚ ã€ç½‘ç»œè¯·æ±‚å¼‚å¸¸ã€‘                                                          â”‚
    # â”‚  â€¢ è¿æ¥è¶…æ—¶                                                             â”‚
    # â”‚  â€¢ DNS è§£æå¤±è´¥                                                         â”‚
    # â”‚  â€¢ HTTP é”™è¯¯çŠ¶æ€ç  (4xx/5xx)                                            â”‚
    # â”‚  â€¢ æœåŠ¡å™¨æ— å“åº”                                                          â”‚
    # â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    print(f"\n{'=' * 60}")
    print(f"âŒ å¤šå›¾èåˆè¯·æ±‚å¤±è´¥ï¼")
    print(f"{'=' * 60}")
    print(f"é”™è¯¯ä¿¡æ¯: {e}")

    if e.response:
        print(f"HTTP çŠ¶æ€ç : {e.response.status_code}")
        print(f"å“åº”å†…å®¹: {e.response.text}")

except Exception as e:
    # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    # â”‚ ã€å…¶ä»–æœªçŸ¥å¼‚å¸¸ã€‘                                                          â”‚
    # â”‚  â€¢ æ–‡ä»¶è¯»å†™é”™è¯¯                                                          â”‚
    # â”‚  â€¢ JSON è§£æé”™è¯¯                                                         â”‚
    # â”‚  â€¢ Base64 ç¼–è§£ç é”™è¯¯                                                     â”‚
    # â”‚  â€¢ å…¶ä»–è¿è¡Œæ—¶é”™è¯¯                                                        â”‚
    # â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    print(f"\n{'=' * 60}")
    print(f"âŒ å¤šå›¾èåˆè¿‡ç¨‹ä¸­å‘ç”ŸæœªçŸ¥é”™è¯¯ï¼")
    print(f"{'=' * 60}")
    print(f"é”™è¯¯ä¿¡æ¯: {e}")

```


## è¿”å›ç¤ºä¾‹
```json
==================================================
ğŸ¨ å¼€å§‹å›¾æ–‡ç”Ÿå›¾...
==================================================
âœ“ è¾“å‡ºæ–‡ä»¶å¤¹å·²å­˜åœ¨: output
ğŸ“· æ­£åœ¨åŠ è½½å›¾ç‰‡æ–‡ä»¶...
   âœ“ å·²åŠ è½½: output/generated_image_20251217_112838_1.png
   âœ“ å·²åŠ è½½: output/generated_image_20251217_113148_1.png
   âœ“ å·²åŠ è½½: output/generated_image_20251217_113852_1.png
ğŸ“¡ æ­£åœ¨å‘ API å‘é€è¯·æ±‚...
   æ¨¡å‹: nano-banana-2
   å®½é«˜æ¯”: 5:4
   åˆ†è¾¨ç‡: 4k
   æç¤ºè¯: å°çŒ«åœ¨åŸå¸‚çš„ä¸€å¤„æ£®æ—ä¸­è‚†æ„ç©è€
âœ“ API å“åº”æˆåŠŸï¼
ğŸ’¾ å¼€å§‹ä¿å­˜å›¾ç‰‡...
   âœ“ å›¾ç‰‡ 1 URL: https://oss-cn.scdn.app/files/gemini/2025/12/17/a4215931-7b97-4e6d-8ed2-f16e970fd0a0.jpg
==================================================
âœ… æ‰€æœ‰å›¾ç‰‡å¤„ç†å®Œæˆï¼
==================================================
```

---

<p align="center">
  <small>Â© 2025 DMXAPI nano-banana-2-03 å¤šå›¾èåˆ</small>
</p>