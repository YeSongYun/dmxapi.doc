# Viduè§†é¢‘æ¨¡å‹ viduq2-pro é¦–å°¾å¸§ç”Ÿæˆè§†é¢‘ APIä½¿ç”¨æ–‡æ¡£

viduq2-proåŠ¨æ€å¹…åº¦å¾ˆå¤§ï¼Œç”»é¢æ›´å…·æƒ³è±¡åŠ›ï¼Œè¯­ä¹‰ç†è§£ä¸æŒ‡ä»¤éµå¾ªèƒ½åŠ›å¼ºï¼Œèƒ½æ›´å‡†ç¡®éµå¾ªè¾“å…¥çš„ Promptï¼Œ åŠ¨æ¼«é£æ ¼è¡¨ç°çªå‡ºï¼ŒåŠ¨æ¼«é£æ ¼è§†é¢‘æ•ˆæœæ›´ä½³ã€‚

## æ¨¡å‹åç§°
`viduq2-pro`

## æ¥å£åœ°å€
è°ƒç”¨ `viduq2-pro` å®˜æ–¹æ¥å£éœ€åˆ†ä¸¤æ­¥ï¼š  
1. æäº¤è§†é¢‘ç”Ÿæˆä»»åŠ¡  
2. æ ¹æ®è¿”å›çš„ `ID` æŸ¥è¯¢ç»“æœ  

| åŠŸèƒ½ | ç«¯ç‚¹ |
|------|------|
| æäº¤è§†é¢‘ä»»åŠ¡ | `https://www.dmxapi.cn/v1/responses` |
| æŸ¥è¯¢è§†é¢‘ç»“æœ | `https://www.dmxapi.cn/v1/responses` |


## å¯é€‰å‚æ•°
- `resolution`ï¼šè§†é¢‘åˆ†è¾¨ç‡ï¼Œé»˜è®¤ `720p`ï¼Œå¯é€‰å€¼ï¼š`540p` / `720p` / `1080p`
- `duration`ï¼šè§†é¢‘æ—¶é•¿ï¼ˆå•ä½ï¼šç§’ï¼‰
  - é»˜è®¤å€¼ï¼š`5`
  - å¯é€‰å€¼ï¼š`1` / `2` / `3` / `4` / `5` / `6` / `7` / `8`

## python è¯·æ±‚å‘é€ç¤ºä¾‹ä»£ç 
```python
"""
================================================================================
DMXAPI è§†é¢‘ç”Ÿæˆä»»åŠ¡åˆ›å»ºè„šæœ¬
================================================================================

åŠŸèƒ½è¯´æ˜:
    æœ¬è„šæœ¬ç”¨äºé€šè¿‡ DMXAPI å¹³å°åˆ›å»º AI è§†é¢‘ç”Ÿæˆä»»åŠ¡ã€‚
    æ”¯æŒæ–‡æœ¬ç”Ÿæˆè§†é¢‘ã€å›¾ç‰‡ç”Ÿæˆè§†é¢‘ç­‰å¤šç§æ¨¡å¼ã€‚

ä½¿ç”¨æµç¨‹:
    1. é…ç½® API å¯†é’¥å’Œè¯·æ±‚å‚æ•°
    2. è¿è¡Œæœ¬è„šæœ¬åˆ›å»ºè§†é¢‘ç”Ÿæˆä»»åŠ¡
    3. è·å–è¿”å›çš„ä»»åŠ¡ ID

æ”¯æŒçš„ç”Ÿæˆæ¨¡å¼:
    - é¦–å°¾å¸§ç”Ÿæˆè§†é¢‘: æŒ‡å®šé¦–å°¾ä¸¤å¸§å›¾ç‰‡ï¼ŒAI è‡ªåŠ¨ç”Ÿæˆä¸­é—´è¿‡æ¸¡

ä¾èµ–åº“:
    - requests: HTTP è¯·æ±‚åº“
    - json: JSON å¤„ç†åº“
================================================================================
"""
import requests  # HTTP è¯·æ±‚åº“ - ç”¨äºå‘é€ç½‘ç»œè¯·æ±‚
import json      # JSON å¤„ç†åº“ - ç”¨äºè§£æ API å“åº”æ•°æ®

# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘                           ç¬¬ä¸€éƒ¨åˆ†: API è¿æ¥é…ç½®                             â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# è¯´æ˜: æ­¤éƒ¨åˆ†é…ç½® API æœåŠ¡å™¨åœ°å€å’Œèº«ä»½éªŒè¯ä¿¡æ¯
#       è¯·ç¡®ä¿ API å¯†é’¥çš„å®‰å…¨æ€§ï¼Œä¸è¦æ³„éœ²ç»™ä»–äºº
#

# DMXAPI æœåŠ¡ç«¯ç‚¹åœ°å€
url = "https://www.dmxapi.cn/v1/responses"

# DMXAPI å¯†é’¥ (API Key)
# - ç”¨é€”: èº«ä»½éªŒè¯ï¼Œç¡®ä¿åªæœ‰æˆæƒç”¨æˆ·å¯ä»¥è®¿é—® API
# - æ ¼å¼: ä»¥ "sk-" å¼€å¤´çš„å­—ç¬¦ä¸²
# - æ³¨æ„: è¯·å¦¥å–„ä¿ç®¡ï¼Œä¸è¦å°†å¯†é’¥æäº¤åˆ°å…¬å¼€ä»£ç ä»“åº“
api_key = "sk-********************************"  # âš ï¸ è¯·æ›¿æ¢ä¸ºä½ çš„APIå¯†é’¥

# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘                          ç¬¬äºŒéƒ¨åˆ†: HTTP è¯·æ±‚å¤´é…ç½®                           â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


headers = {
    "Content-Type": "application/json",
    "Authorization": f"{api_key}",
}

# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘                          ç¬¬ä¸‰éƒ¨åˆ†: è§†é¢‘ç”Ÿæˆå‚æ•°é…ç½®                          â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# è¯´æ˜: æ­¤éƒ¨åˆ†å®šä¹‰è§†é¢‘ç”Ÿæˆçš„æ‰€æœ‰å‚æ•°
#       åŒ…æ‹¬æ¨¡å‹é€‰æ‹©ã€è§†é¢‘å±æ€§ã€è¾“å…¥å†…å®¹ç­‰
#

data = {
    # ========================= 3.1 åŸºç¡€é…ç½® =========================

    # model: æŒ‡å®šä½¿ç”¨çš„è§†é¢‘ç”Ÿæˆæ¨¡å‹
    # - viduq2-pro: Vidu Q2 Pro ä¸“ä¸šç‰ˆæ¨¡å‹
    "model": "viduq2-pro",

    # input: è§†é¢‘ç”Ÿæˆçš„æ–‡æœ¬æç¤ºè¯ (Prompt)
    # - æè¿°ä½ æƒ³è¦ç”Ÿæˆçš„è§†é¢‘å†…å®¹
    # - æç¤ºè¯è¶Šè¯¦ç»†ï¼Œç”Ÿæˆæ•ˆæœè¶Šå¥½
    # - å­—ç¬¦é•¿åº¦ä¸èƒ½è¶…è¿‡ 2000 ä¸ªå­—ç¬¦
    # - æ”¯æŒä¸­è‹±æ–‡è¾“å…¥
    "input": "ä¸€ç›´å°çŒ«åœ¨æ„‰å¿«çš„ç©è€",

    # ========================= 3.2 è§†é¢‘å±æ€§é…ç½® =========================

    # duration: è§†é¢‘æ—¶é•¿ï¼ˆå•ä½ï¼šç§’ï¼‰
    # - é»˜è®¤å€¼: 5
    # - å¯é€‰å€¼: 1, 2, 3, 4, 5, 6, 7, 8
    "duration": 5,

    # seed: éšæœºç§å­
    # - å½“é»˜è®¤ä¸ä¼ æˆ–è€…ä¼  0 æ—¶ï¼Œä¼šä½¿ç”¨éšæœºæ•°æ›¿ä»£
    "seed": 0,

    # resolution: è§†é¢‘åˆ†è¾¨ç‡
    # - viduq2-pro 1-8ç§’ï¼šé»˜è®¤ 720pï¼Œå¯é€‰ï¼š540pã€720pã€1080p
    "resolution": "720p",

    # movement_amplitude: è¿åŠ¨å¹…åº¦
    # - é»˜è®¤ autoï¼Œå¯é€‰å€¼ï¼šautoã€smallã€mediumã€large
    "movement_amplitude": "auto",

    # ========================= 3.3 å›¾ç‰‡è¾“å…¥é…ç½® =========================

    # images: å›¾åƒ
     # 
    # - æ”¯æŒè¾“å…¥ä¸¤å¼ å›¾ï¼Œä¸Šä¼ çš„ç¬¬ä¸€å¼ å›¾ç‰‡è§†ä½œé¦–å¸§å›¾ï¼Œç¬¬äºŒå¼ å›¾ç‰‡è§†ä½œå°¾å¸§å›¾
    # - æ¨¡å‹å°†ä»¥æ­¤å‚æ•°ä¸­ä¼ å…¥çš„å›¾ç‰‡æ¥ç”Ÿæˆè§†é¢‘
    # æ³¨1: é¦–å°¾å¸§ä¸¤å¼ è¾“å…¥å›¾çš„åˆ†è¾¨ç‡éœ€ç›¸è¿‘ï¼Œé¦–å¸§å›¾çš„åˆ†è¾¨ç‡/å°¾å¸§å›¾çš„åˆ†è¾¨ç‡è¦åœ¨ 0.8ï½1.25 ä¹‹é—´
    #      ä¸”å›¾ç‰‡æ¯”ä¾‹éœ€è¦å°äº 1:4 æˆ–è€… 4:1
    # æ³¨2: æ”¯æŒä¼ å…¥å›¾ç‰‡ Base64 ç¼–ç æˆ–å›¾ç‰‡ URLï¼ˆç¡®ä¿å¯è®¿é—®ï¼‰
    # æ³¨3: å›¾ç‰‡æ”¯æŒ pngã€jpegã€jpgã€webp æ ¼å¼
    # æ³¨4: å›¾ç‰‡å¤§å°ä¸è¶…è¿‡ 50M
    # æ³¨5: base64 decode ä¹‹åçš„å­—èŠ‚é•¿åº¦éœ€è¦å°äº 10Mï¼Œä¸”ç¼–ç å¿…é¡»åŒ…å«é€‚å½“çš„å†…å®¹ç±»å‹å­—ç¬¦ä¸²
    "images": [
        "https://prod-ss-images.s3.cn-northwest-1.amazonaws.com.cn/vidu-maas/template/startend2video-1.jpeg",  # é¦–å¸§å›¾ç‰‡
        "https://prod-ss-images.s3.cn-northwest-1.amazonaws.com.cn/vidu-maas/template/startend2video-2.jpeg"   # å°¾å¸§å›¾ç‰‡
    ],

    # ========================= 3.4 éŸ³é¢‘é…ç½® =========================

    # bgm: æ˜¯å¦ä¸ºç”Ÿæˆçš„è§†é¢‘æ·»åŠ èƒŒæ™¯éŸ³ä¹
    # - é»˜è®¤ï¼šfalseï¼Œå¯é€‰å€¼ trueã€false
    # - ä¼  true æ—¶ç³»ç»Ÿå°†ä»é¢„è®¾ BGM åº“ä¸­è‡ªåŠ¨æŒ‘é€‰åˆé€‚çš„éŸ³ä¹å¹¶æ·»åŠ ï¼›ä¸ä¼ æˆ–ä¸º false åˆ™ä¸æ·»åŠ  BGM
    # - BGM ä¸é™åˆ¶æ—¶é•¿ï¼Œç³»ç»Ÿæ ¹æ®è§†é¢‘æ—¶é•¿è‡ªåŠ¨é€‚é…
    "bgm": False,

    # ========================= 3.5 æ°´å°é…ç½® =========================

    # watermark: æ˜¯å¦æ·»åŠ æ°´å°
    # - trueï¼šæ·»åŠ æ°´å°
    # - falseï¼šä¸æ·»åŠ æ°´å°
    "watermark": False,

    # wm_position: æ°´å°ä½ç½®
    # - 1: å·¦ä¸Šè§’
    # - 2: å³ä¸Šè§’
    # - 3: å·¦ä¸‹è§’
    # - 4: å³ä¸‹è§’
    # - é»˜è®¤ä¸ºä¸º 3
    "wm_position": 3,

    # wm_url: æ°´å°å†…å®¹ï¼Œæ­¤å¤„ä¸ºå›¾ç‰‡ URL
    # - ä¸ä¼ æ—¶ï¼Œä½¿ç”¨é»˜è®¤æ°´å°ï¼šå†…å®¹ç”± AI ç”Ÿæˆ
    "wm_url": "https://prod-ss-images.s3.cn-northwest-1.amazonaws.com.cn/vidu-maas/template/startend2video-1.jpeg",

    # ========================= 3.6 å›è°ƒé…ç½® =========================

    # callback_url: Callback åè®®
    # - éœ€è¦æ‚¨åœ¨åˆ›å»ºä»»åŠ¡æ—¶ä¸»åŠ¨è®¾ç½® callback_urlï¼Œè¯·æ±‚æ–¹æ³•ä¸º POST
    # - å½“è§†é¢‘ç”Ÿæˆä»»åŠ¡æœ‰çŠ¶æ€å˜åŒ–æ—¶ï¼ŒVidu å°†å‘æ­¤åœ°å€å‘é€åŒ…å«ä»»åŠ¡æœ€æ–°çŠ¶æ€çš„å›è°ƒè¯·æ±‚
    # - å›è°ƒè¯·æ±‚å†…å®¹ç»“æ„ä¸æŸ¥è¯¢ä»»åŠ¡ API çš„è¿”å›ä½“ä¸€è‡´
    # å›è°ƒè¿”å›çš„ "status" åŒ…æ‹¬ä»¥ä¸‹çŠ¶æ€ï¼š
    # - processingï¼šä»»åŠ¡å¤„ç†ä¸­
    # - successï¼šä»»åŠ¡å®Œæˆï¼ˆå¦‚å‘é€å¤±è´¥ï¼Œå›è°ƒä¸‰æ¬¡ï¼‰
    # - failedï¼šä»»åŠ¡å¤±è´¥ï¼ˆå¦‚å‘é€å¤±è´¥ï¼Œå›è°ƒä¸‰æ¬¡ï¼‰
    # "callback_url": "https://www.dmxapi.cn/v1/responses/callback"
}

# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘                       ç¬¬å››éƒ¨åˆ†: å‘é€è¯·æ±‚å¹¶å¤„ç†å“åº”                             â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# è¯´æ˜: æ­¤éƒ¨åˆ†è´Ÿè´£å‘é€ HTTP è¯·æ±‚å¹¶å¤„ç†æœåŠ¡å™¨è¿”å›çš„å“åº”
#       åˆ›å»ºä»»åŠ¡åä¼šè¿”å›ä»»åŠ¡ IDï¼Œç”¨äºåç»­æŸ¥è¯¢
#

# ----------------------------- 4.1 å‘é€ API è¯·æ±‚ -----------------------------
# requests.post() å‚æ•°è¯´æ˜:
# - url: API æœåŠ¡ç«¯ç‚¹åœ°å€
# - headers: HTTP è¯·æ±‚å¤´ï¼ŒåŒ…å«è®¤è¯ä¿¡æ¯
# - json: è¯·æ±‚ä½“æ•°æ®ï¼Œä¼šè‡ªåŠ¨åºåˆ—åŒ–ä¸º JSON
# - stream=True: å¯ç”¨æµå¼å“åº”ï¼Œå®æ—¶æ¥æ”¶æœåŠ¡å™¨è¿”å›æ•°æ®
response = requests.post(url, headers=headers, json=data, stream=True)

# ----------------------------- 4.2 å¤„ç†æµå¼å“åº” -----------------------------
# æµå¼å“åº”å¤„ç†è¯´æ˜:
# - æœåŠ¡å™¨ä¼šå®æ—¶è¿”å›ä»»åŠ¡åˆ›å»ºçŠ¶æ€
# - æˆåŠŸåˆ›å»ºåè¿”å›ä»»åŠ¡ ID
# - ä»»åŠ¡ ID æ ¼å¼: çº¯æ•°å­—å­—ç¬¦ä¸²ï¼Œå¦‚ "900541207950696448"
#
# å“åº”æ•°æ®ç¤ºä¾‹:
# {
#     "id": "900541207950696448",    // ä»»åŠ¡ IDï¼Œç”¨äºæŸ¥è¯¢è¿›åº¦
#     "status": "pending",           // ä»»åŠ¡çŠ¶æ€
#     "created_at": "2024-01-01..."  // åˆ›å»ºæ—¶é—´
# }
#
try:
    # iter_lines(): è¿­ä»£å™¨æ–¹æ³•ï¼Œé€è¡Œè¯»å–å“åº”å†…å®¹
    # - é¿å…ä¸€æ¬¡æ€§åŠ è½½å…¨éƒ¨æ•°æ®åˆ°å†…å­˜
    # - é€‚åˆå¤„ç†æµå¼æ•°æ®
    for line in response.iter_lines():
        # è·³è¿‡ç©ºè¡Œ
        if line:
            # å°†å­—èŠ‚æ•°æ®è§£ç ä¸º UTF-8 å­—ç¬¦ä¸²å¹¶å»é™¤é¦–å°¾ç©ºç™½
            line_text = line.decode('utf-8').strip()

            # è¾“å‡ºæœåŠ¡å™¨è¿”å›çš„åŸå§‹æ•°æ®
            # - åŒ…å«ä»»åŠ¡ ID å’ŒçŠ¶æ€ä¿¡æ¯
            # - è¯·è®°å½•ä»»åŠ¡ IDï¼Œç”¨äº get.py æŸ¥è¯¢
            print(line_text)

# ----------------------------- 4.3 å¼‚å¸¸å¤„ç† -----------------------------
except KeyboardInterrupt:
    # æ•è· Ctrl+C ä¸­æ–­ä¿¡å·
    # å…è®¸ç”¨æˆ·ä¼˜é›…åœ°ç»ˆæ­¢è¯·æ±‚
    print("\n\nâš ï¸ ç”¨æˆ·ä¸­æ–­äº†è¯·æ±‚")

except Exception as e:
    # æ•è·æ‰€æœ‰å…¶ä»–å¼‚å¸¸
    # åŒ…æ‹¬ç½‘ç»œé”™è¯¯ã€è¿æ¥è¶…æ—¶ã€æœåŠ¡å™¨é”™è¯¯ç­‰
    print(f"\n\nâŒ å‘ç”Ÿé”™è¯¯: {e}")

# ----------------------------- 4.4 è¾“å‡ºç»“æŸ -----------------------------
# ç¡®ä¿è¾“å‡ºæ ¼å¼æ•´æ´ï¼Œæ·»åŠ ç©ºè¡Œåˆ†éš”
print()
```

### è¿”å›ç¤ºä¾‹

```json

{"task_id":"900539403250700288","type":"headtailimg2video","state":"created","model":"viduq2-pro","style":"general","prompt":"ä½ å¥½","images":["https://prod-ss-images.s3.cn-northwest-1.amazonaws.com.cn/vidu-maas/template/startend2video-1.jpeg","https://prod-ss-images.s3.cn-northwest-1.amazonaws.com.cn/vidu-maas/template/startend2video-2.jpeg"],"duration":2,"seed":837612233,"aspect_ratio":"","resolution":"1080p","movement_amplitude":"auto","created_at":1766376840,"credits":70,"payload":"","cus_priority":0,"off_peak":false,"watermark":true,"is_rec":false,"wm_position":"bottom_right","wm_url":"https://prod-ss-images.s3.cn-northwest-1.amazonaws.com.cn/vidu-maas/template/startend2video-1.jpeg","meta_data":"","client_request_id":"","usage":{"total_tokens":28002,"input_tokens":2,"input_tokens_details":{"cached_tokens":0},"output_tokens":28000,"output_tokens_details":{"reasoning_tokens":0}}}

```

## python getå“åº” ç¤ºä¾‹ä»£ç 

```python
"""
================================================================================
DMXAPI è§†é¢‘ç”Ÿæˆä»»åŠ¡æŸ¥è¯¢è„šæœ¬
================================================================================

åŠŸèƒ½è¯´æ˜:
    æœ¬è„šæœ¬ç”¨äºæŸ¥è¯¢ DMXAPI å¹³å°ä¸Šè§†é¢‘ç”Ÿæˆä»»åŠ¡çš„çŠ¶æ€å’Œç»“æœã€‚
    é€šè¿‡æä¾›ä»»åŠ¡ IDï¼Œå¯ä»¥å®æ—¶è·å–è§†é¢‘ç”Ÿæˆè¿›åº¦ï¼Œå¹¶åœ¨å®Œæˆåè·å–ä¸‹è½½é“¾æ¥ã€‚
ä¾èµ–åº“:
    - requests: HTTP è¯·æ±‚åº“ï¼Œç”¨äºå‘é€ API è¯·æ±‚
    - json: JSON è§£æåº“ï¼Œç”¨äºå¤„ç†å“åº”æ•°æ®

================================================================================
"""

import requests  # HTTP è¯·æ±‚åº“ - ç”¨äºå‘é€ç½‘ç»œè¯·æ±‚
import json      # JSON å¤„ç†åº“ - ç”¨äºè§£æ API å“åº”æ•°æ®

# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘                           ç¬¬ä¸€éƒ¨åˆ†: API è¿æ¥é…ç½®                              â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# è¯´æ˜: æ­¤éƒ¨åˆ†é…ç½® API æœåŠ¡å™¨åœ°å€å’Œèº«ä»½éªŒè¯ä¿¡æ¯
#       è¯·ç¡®ä¿ API å¯†é’¥çš„å®‰å…¨æ€§ï¼Œä¸è¦æ³„éœ²ç»™ä»–äºº
#

# API æœåŠ¡ç«¯ç‚¹åœ°å€
# - ç”Ÿäº§ç¯å¢ƒ: https://www.dmxapi.cn/v1/responses
# - è¯¥æ¥å£ç”¨äºæŸ¥è¯¢è§†é¢‘ç”Ÿæˆä»»åŠ¡çš„çŠ¶æ€å’Œç»“æœ
url = "https://www.dmxapi.cn/v1/responses"

# API å¯†é’¥ (API Key)
# - ç”¨é€”: èº«ä»½éªŒè¯ï¼Œç¡®ä¿åªæœ‰æˆæƒç”¨æˆ·å¯ä»¥è®¿é—® API
# - æ ¼å¼: ä»¥ "sk-" å¼€å¤´çš„å­—ç¬¦ä¸²
# - æ³¨æ„: è¯·å¦¥å–„ä¿ç®¡ï¼Œä¸è¦å°†å¯†é’¥æäº¤åˆ°å…¬å¼€ä»£ç ä»“åº“
api_key = "sk-******************************************"

# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘                          ç¬¬äºŒéƒ¨åˆ†: HTTP è¯·æ±‚å¤´é…ç½®                            â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# è¯´æ˜: HTTP è¯·æ±‚å¤´ç”¨äºå‘ŠçŸ¥æœåŠ¡å™¨è¯·æ±‚çš„æ ¼å¼å’Œè®¤è¯ä¿¡æ¯
#       è¿™æ˜¯ RESTful API è°ƒç”¨çš„æ ‡å‡†é…ç½®
#

headers = {
    # Content-Type: æŒ‡å®šè¯·æ±‚ä½“çš„åª’ä½“ç±»å‹
    # - application/json è¡¨ç¤ºè¯·æ±‚ä½“ä¸º JSON æ ¼å¼
    # - æœåŠ¡å™¨ä¼šæ ¹æ®æ­¤å­—æ®µæ­£ç¡®è§£æè¯·æ±‚æ•°æ®
    "Content-Type": "application/json",

    # Authorization: èº«ä»½éªŒè¯å¤´
    # - è®¤è¯æ–¹æ¡ˆ: OAuth 2.0 æ ‡å‡†çš„ä»¤ç‰Œè®¤è¯æ–¹å¼
    # - æ ¼å¼: "<token>"
    # - æœåŠ¡å™¨é€šè¿‡æ­¤å­—æ®µéªŒè¯è¯·æ±‚è€…èº«ä»½
    "Authorization": f"{api_key}",
}

# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘                          ç¬¬ä¸‰éƒ¨åˆ†: è¯·æ±‚å‚æ•°é…ç½®                               â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# è¯´æ˜: æ­¤éƒ¨åˆ†å®šä¹‰å‘é€ç»™ API çš„æ ¸å¿ƒå‚æ•°
#       åŒ…æ‹¬æ¨¡å‹é€‰æ‹©ã€ä»»åŠ¡ ID å’Œå“åº”æ¨¡å¼
#

data = {
    # model: æŒ‡å®šæŸ¥è¯¢æ‰€ä½¿ç”¨çš„æ¨¡å‹/æ¥å£
    # - viduq2-pro-get: Vidu Q2 Pro ç‰ˆæœ¬çš„ä»»åŠ¡æŸ¥è¯¢æ¥å£ï¼ˆè¿™ä¸ªæ¨¡å‹ä¸è¦æ›´æ”¹ï¼Œå°±ç”¨viduq2-pro-getï¼‰
    # - ä¸åŒæ¨¡å‹å¯¹åº”ä¸åŒçš„è§†é¢‘ç”Ÿæˆèƒ½åŠ›
    "model": "vidu-get",

    # input: è¦æŸ¥è¯¢çš„ä»»åŠ¡ ID
    # - æ­¤ ID ç”±åˆ›å»ºä»»åŠ¡æ—¶è¿”å›
    # - æ¯ä¸ªä»»åŠ¡æœ‰å”¯ä¸€çš„ ID æ ‡è¯†
    # - è¯·æ›¿æ¢ä¸ºæ‚¨å®é™…çš„ä»»åŠ¡ ID
    "input": "900541207950696448",

    # stream: æ˜¯å¦å¯ç”¨æµå¼å“åº”
    # - True: å¯ç”¨ SSE æµå¼ä¼ è¾“ï¼Œå®æ—¶æ¥æ”¶ç”Ÿæˆè¿›åº¦
    # - False: ç­‰å¾…ä»»åŠ¡å®Œæˆåä¸€æ¬¡æ€§è¿”å›ç»“æœ
    # - æ¨èä½¿ç”¨ True ä»¥è·å¾—æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
    "stream": True
}

# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘                       ç¬¬å››éƒ¨åˆ†: å‘é€è¯·æ±‚å¹¶å¤„ç†å“åº”                             â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# è¯´æ˜: æ­¤éƒ¨åˆ†è´Ÿè´£å‘é€ HTTP è¯·æ±‚å¹¶å¤„ç†æœåŠ¡å™¨è¿”å›çš„æµå¼å“åº”
#       ä½¿ç”¨ SSE æŠ€æœ¯å®æ—¶æ¥æ”¶ä»»åŠ¡è¿›åº¦æ›´æ–°
#

# ----------------------------- 4.1 è¾“å‡ºå¯åŠ¨ä¿¡æ¯ -----------------------------
# å‘ç”¨æˆ·æ˜¾ç¤ºç¨‹åºå·²å¼€å§‹æ‰§è¡Œï¼Œæä¾›æ¸…æ™°çš„è§†è§‰åˆ†éš”
print("=" * 60)
print("ğŸš€ å‘é€æµå¼è¯·æ±‚...")
print("=" * 60)

# ----------------------------- 4.2 å‘é€ API è¯·æ±‚ -----------------------------
# requests.post() å‚æ•°è¯´æ˜:
# - url: API æœåŠ¡ç«¯ç‚¹åœ°å€
# - headers: HTTP è¯·æ±‚å¤´ï¼ŒåŒ…å«è®¤è¯ä¿¡æ¯
# - json: è¯·æ±‚ä½“æ•°æ®ï¼Œä¼šè‡ªåŠ¨åºåˆ—åŒ–ä¸º JSON
# - stream=True: å¯ç”¨æµå¼å“åº”ï¼Œå…è®¸é€è¡Œè¯»å–è¿”å›æ•°æ®
response = requests.post(url, headers=headers, json=data, stream=True)

# è¾“å‡º HTTP çŠ¶æ€ç ï¼Œä¾¿äºè°ƒè¯•å’Œç¡®è®¤è¯·æ±‚æ˜¯å¦æˆåŠŸ
# - 200: è¯·æ±‚æˆåŠŸ
# - 401: è®¤è¯å¤±è´¥ï¼ˆæ£€æŸ¥ API å¯†é’¥ï¼‰
# - 404: ä»»åŠ¡ä¸å­˜åœ¨ï¼ˆæ£€æŸ¥ä»»åŠ¡ IDï¼‰
# - 500: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯
print(f"çŠ¶æ€ç : {response.status_code}")
print("-" * 60)
print()

# ----------------------------- 4.3 å¤„ç†æµå¼å“åº” -----------------------------
# SSE (Server-Sent Events) å“åº”æ ¼å¼è¯´æ˜:
# - æ¯æ¡æ¶ˆæ¯ä»¥ "data: " å¼€å¤´
# - åè·Ÿ JSON æ ¼å¼çš„æ•°æ®
# - æ¶ˆæ¯ä¹‹é—´ç”¨ç©ºè¡Œåˆ†éš”
#
# å“åº”æ•°æ®ç»“æ„ç¤ºä¾‹:
# {
#     "delta": "å½“å‰è¿›åº¦: 50%",        // å¢é‡æ›´æ–°å†…å®¹
#     "type": "response.completed"    // å“åº”ç±»å‹æ ‡è¯†
# }
#
try:
    # iter_lines(): è¿­ä»£å™¨æ–¹æ³•ï¼Œé€è¡Œè¯»å–å“åº”å†…å®¹
    # - é¿å…ä¸€æ¬¡æ€§åŠ è½½å…¨éƒ¨æ•°æ®åˆ°å†…å­˜
    # - é€‚åˆå¤„ç†å¤§é‡æˆ–æŒç»­çš„æµå¼æ•°æ®
    for line in response.iter_lines():
        # è·³è¿‡ç©ºè¡Œï¼ˆSSE åè®®ä¸­ç”¨äºåˆ†éš”æ¶ˆæ¯ï¼‰
        if line:
            # å°†å­—èŠ‚æ•°æ®è§£ç ä¸º UTF-8 å­—ç¬¦ä¸²
            decoded_line = line.decode('utf-8')

            # --------------- 4.3.1 è§£æ SSE æ•°æ®æ ¼å¼ ---------------
            # æ£€æŸ¥æ˜¯å¦ä¸ºæ ‡å‡† SSE æ•°æ®è¡Œ
            if decoded_line.startswith('data: '):
                # æå– JSON éƒ¨åˆ†ï¼ˆå»æ‰ "data: " å‰ç¼€ï¼Œå…± 6 ä¸ªå­—ç¬¦ï¼‰
                json_str = decoded_line[6:]

                try:
                    # å°† JSON å­—ç¬¦ä¸²è§£æä¸º Python å­—å…¸
                    data_obj = json.loads(json_str)

                    # --------------- 4.3.2 å¤„ç†å¢é‡æ›´æ–° ---------------
                    # delta å­—æ®µåŒ…å«å®æ—¶è¿›åº¦ä¿¡æ¯
                    if 'delta' in data_obj:
                        delta_text = data_obj['delta']

                        # æ£€æµ‹ä»»åŠ¡å®Œæˆä¿¡å·
                        # å½“æ”¶åˆ°å®Œæˆæ¶ˆæ¯æ—¶ï¼Œæ˜¾ç¤º 100% è¿›åº¦æ¡
                        if 'âœ… è§†é¢‘ç”Ÿæˆå®Œæˆ' in delta_text:
                            print('\r[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100.00% ç”Ÿæˆå®Œæˆ!', flush=True)

                        # è¾“å‡ºå¢é‡å†…å®¹
                        # - end='': ä¸æ¢è¡Œï¼Œä¿æŒè¿›åº¦æ¡åœ¨åŒä¸€è¡Œæ›´æ–°
                        # - flush=True: ç«‹å³åˆ·æ–°è¾“å‡ºç¼“å†²åŒº
                        print(delta_text, end='', flush=True)

                    # --------------- 4.3.3 å¤„ç†å®Œæˆä¿¡å· ---------------
                    # type='response.completed' è¡¨ç¤ºå“åº”æµç»“æŸ
                    elif data_obj.get('type') == 'response.completed':
                        # å“åº”å®Œæˆï¼Œæ— éœ€é¢å¤–å¤„ç†
                        # æ­¤æ—¶æ‰€æœ‰æ•°æ®å·²é€šè¿‡ delta è¾“å‡º
                        pass

                except json.JSONDecodeError:
                    # JSON è§£æå¤±è´¥æ—¶ï¼Œç›´æ¥è¾“å‡ºåŸå§‹å†…å®¹
                    # å¯èƒ½æ˜¯æœåŠ¡å™¨è¿”å›äº†éæ ‡å‡†æ ¼å¼çš„æ•°æ®
                    print(decoded_line)

# ----------------------------- 4.4 å¼‚å¸¸å¤„ç† -----------------------------
except KeyboardInterrupt:
    # æ•è· Ctrl+C ä¸­æ–­ä¿¡å·
    # å…è®¸ç”¨æˆ·ä¼˜é›…åœ°ç»ˆæ­¢é•¿æ—¶é—´è¿è¡Œçš„æŸ¥è¯¢
    print("\n\nâš ï¸ ç”¨æˆ·ä¸­æ–­äº†è¯·æ±‚")

except Exception as e:
    # æ•è·æ‰€æœ‰å…¶ä»–å¼‚å¸¸
    # åŒ…æ‹¬ç½‘ç»œé”™è¯¯ã€è¿æ¥è¶…æ—¶ç­‰
    print(f"\n\nâŒ å‘ç”Ÿé”™è¯¯: {e}")

# ----------------------------- 4.5 è¾“å‡ºç»“æŸä¿¡æ¯ -----------------------------
# ç¨‹åºæ‰§è¡Œå®Œæ¯•ï¼Œè¾“å‡ºç»“æŸæ ‡è¯†
print()
print("=" * 60)
print("ğŸ æµå¼è¾“å‡ºç»“æŸ")
print("=" * 60)

```

### è¿”å›ç¤ºä¾‹
```json
============================================================
ğŸš€ å‘é€æµå¼è¯·æ±‚...
============================================================
çŠ¶æ€ç : 200
------------------------------------------------------------

[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100.00% ç”Ÿæˆå®Œæˆ!


âœ… è§†é¢‘ç”Ÿæˆå®Œæˆï¼

ä»»åŠ¡ID: 900539403250700288

--- åˆ›ä½œ 1 ---
è§†é¢‘URL: https://prod-ss-vidu.s3.cn-northwest-1.amazonaws.com.cn/infer/tasks/25/1222/04/900539403250700288/creation-01/video.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIARRHG6JR7EMNHVUWT%2F20251222%2Fcn-northwest-1%2Fs3%2Faws4_request&X-Amz-Date=20251222T041501Z&X-Amz-Expires=86400&X-Amz-SignedHeaders=host&response-cache-control=max-age%3D86400&response-content-disposition=attachment%3Bfilename%3Dgeneral-3-2025-12-22T04%253A14%253A55Z.mp4&x-id=GetObject&X-Amz-Signature=29a1ac29fbcf2af1a2f635909291110d87590da5251cdad328c0e17df24b63c6
å°é¢URL: https://prod-ss-vidu.s3.cn-northwest-1.amazonaws.com.cn/infer/tasks/25/1222/04/900539403250700288/creation-01/cover.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIARRHG6JR7EMNHVUWT%2F20251222%2Fcn-northwest-1%2Fs3%2Faws4_request&X-Amz-Date=20251222T041501Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&response-cache-control=max-age%3D86400&x-id=GetObject&X-Amz-Signature=f4036a950da1be990b24ef2203130b83b9f66d4acef67f7a11318dcb02161390
æ°´å°è§†é¢‘: https://prod-ss-vidu.s3.cn-northwest-1.amazonaws.com.cn/infer/tasks/25/1222/04/900539403250700288/creation-01/watermarked.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIARRHG6JR7EMNHVUWT%2F20251222%2Fcn-northwest-1%2Fs3%2Faws4_request&X-Amz-Date=20251222T041501Z&X-Amz-Expires=86400&X-Amz-SignedHeaders=host&response-cache-control=max-age%3D86400&response-content-disposition=attachment%3Bfilename%3Dgeneral-3-2025-12-22T04%253A14%253A55Z.mp4&x-id=GetObject&X-Amz-Signature=ca0a9cd624e2ae8f54f0d7fb0e86cdf7337b2a6fabd0dea6d908ba8f98b759aa

============================================================
ğŸ æµå¼è¾“å‡ºç»“æŸ
============================================================
```

---

<p align="center">
  <small>Â© 2025 DMXAPI viduq2-pro</small>
</p>