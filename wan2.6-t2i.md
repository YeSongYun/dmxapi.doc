# wan2.6-t2i 文生图 API文档
wan2.6文生图模型，基于文本描述生成图像，支持中英文提示词，涵盖多种艺术风格与写实摄影效果。单次可生成1~4张图像，输出分辨率在1280×1280至1440×1440像素之间，宽高比支持1:4到4:1自由选择。提供提示词智能改写与反向提示词等控制参数，输出格式为PNG。
## 请求地址

```
https://www.dmxapi.cn/v1/responses
```

## 模型名称

- `wan2.6-t2i`

## 示例代码

```python
import requests
import json

# ═══════════════════════════════════════════════════════════════
# 🔑 步骤1: 配置 API 连接信息
# ═══════════════════════════════════════════════════════════════

# 🌐 DMXAPI 服务端点地址
url = "https://www.dmxapi.cn/v1/responses"

# 🔐 DMXAPI 密钥 (请替换为您自己的密钥)
# 获取方式: 登录 DMXAPI 官网 -> 个人中心 -> API 密钥管理
api_key = "sk-*******************************************"

# ═══════════════════════════════════════════════════════════════
# 📋 步骤2: 配置请求头
# ═══════════════════════════════════════════════════════════════

headers = {
    "Content-Type": "application/json",      # 指定请求体为 JSON 格式
    "Authorization": f"{api_key}",    # token 认证方式
}

# ═══════════════════════════════════════════════════════════════
# 💬 步骤3: 配置请求参数
# ═══════════════════════════════════════════════════════════════

payload =  {
    "model": "wan2.6-t2i",
    "input": {
        "messages": [
            {
                "role": "user",
                "content": [
                    {
                        # [text] 正向提示词，用于描述期望生成的图像内容、风格和构图。支持中英文，长度不超过2100个字符，每个汉字、字母、数字或符号计为一个字符，超过部分会自动截断。
                        # 注意：仅支持传入一个text，不传或传入多个将报错。
                        "text": "一间有着精致窗户的花店，漂亮的木质门，摆放着花朵，一对情侣在花店门口拍照"
                    }
                ]
            }
        ]
    },
    "parameters": {
        # [prompt_extend] 是否开启提示词智能改写。开启后，将使用大模型优化正向提示词，对较短的提示词有明显提升效果，但增加3-4秒耗时。
        "prompt_extend": True,
        "watermark": False, # 是否添加水印标识，水印位于图片右下角，文案固定为“AI生成”。
        "n": 1, # 生成图片的数量。取值范围为1~4张，默认为4。

        # 反向提示词，用于描述不希望在图像中出现的内容，对画面进行限制。支持中英文，长度不超过500个字符，超出部分将自动截断。
        # 示例值：低分辨率，低画质，肢体畸形，手指畸形，画面过饱和，蜡像感，人脸无细节，过度光滑，画面具有AI感。构图混乱。文字模糊，扭曲。
        "negative_prompt": "",

        # 输出图像的分辨率，格式为宽*高。
        # 默认值为 1280*1280。
        # 总像素在 [1280*1280, 1440*1440] 之间且宽高比范围为 [1:4, 4:1]。例如，768*2700符合要求。
        # 常见比例推荐的分辨率:
            # 1:1：1280*1280
            # 3:4：1104*1472
            # 4:3：1472*1104
            # 9:16：960*1696
            # 16:9：1696*960
        "size": "1280*1280",

        # 随机数种子，取值范围[0,2147483647]。
        # 使用相同的seed参数值可使生成内容保持相对稳定。若不提供，算法将自动使用随机数种子。
        # 注意：模型生成过程具有概率性，即使使用相同的seed，也不能保证每次生成结果完全一致.
        "seed": 100,
    }
}


# ═══════════════════════════════════════════════════════════════
# 📤 步骤4: 发送请求并输出结果
# ═══════════════════════════════════════════════════════════════

# 发送 POST 请求到 API 服务器
response = requests.post(url, headers=headers, json=payload)

# 格式化输出 JSON 响应
# - indent=2: 缩进 2 空格，便于阅读
# - ensure_ascii=False: 正确显示中文字符
print(json.dumps(response.json(), indent=2, ensure_ascii=False))
```


## 返回示例
```json
{
  "output": [
    {
      "type": "message",
      "content": [
        {
          "type": "image",
          "text": "https://dashscope-result-sh.oss-cn-shanghai.aliyuncs.com/1d/60/20260213/7147d395/d5d47569-ab75-4cbc-88fd-c49fd85fd029.png?Expires=1771080696&OSSAccessKeyId=LTAI5tPxpiCM2hjmWrFXrym1&Signature=Dlj7z3IG%2FQvFirkWVZ7EhEbBsU8%3D"
        }
      ]
    }
  ],
  "usage": {
    "total_tokens": 0,
    "input_tokens": 0,
    "input_tokens_details": {
      "cached_tokens": 0
    },
    "output_tokens": 0,
    "output_tokens_details": {
      "reasoning_tokens": 0
    }
  },
  "request_id": "edafc263-cbce-40f6-bcde-144524f51c7a"
}
```

<p align="center">
  <small>© 2026 DMXAPI wan2.6-t2i 画图模型</small>
</p>
