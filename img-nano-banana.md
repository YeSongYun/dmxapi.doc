# Gemini å›¾åƒç”Ÿæˆï¼ˆNano Banana ğŸŒï¼‰

é€šè¿‡ Gemini æ¨¡å‹ç”Ÿæˆé«˜è´¨é‡å›¾åƒï¼Œæ”¯æŒå¤šç§å®½é«˜æ¯”å’Œåˆ†è¾¨ç‡é…ç½®ã€‚

## æ¥å£åœ°å€

æ¥å£åœ°å€ä¸­çš„æ¨¡å‹åç§°æ ¹æ®éœ€è¦æ›¿æ¢ã€‚
```
https://www.dmxapi.cn/v1beta/models/gemini-3-pro-image-preview:generateContent

```
:::warning æ³¨æ„ï¼š
éœ€è¦å‡çº§è°·æ­Œsdkä¸ºæœ€æ–°ç‰ˆ
:::

## æ¨¡å‹åç§°

### Gemini 3 Pro Image Preview
- **æ¨¡å‹åç§°**: `gemini-3-pro-image-preview`
- **åˆ«å**: Nano Banana Pro é¢„è§ˆç‰ˆ
- **ç‰¹ç‚¹**: æ”¯æŒ 1K/2K/4K åˆ†è¾¨ç‡
- **æ–°ç‰¹æ€§**: æ”¯æŒè”ç½‘æœç´¢ç”Ÿæˆå›¾ç‰‡ï¼

### Gemini 2.5 Flash Image
- **æ¨¡å‹åç§°**: `gemini-2.5-flash-image`
- **åˆ«å**: Nano Banana
- **ç‰¹ç‚¹**: å¿«é€Ÿç”Ÿæˆï¼Œå›ºå®š 1K åˆ†è¾¨ç‡ 

## python SDK ä»£ç ç¤ºä¾‹
```python
"""
DMXAPI Gemini å›¾åƒç”Ÿæˆç¤ºä¾‹
ä½¿ç”¨ Google Gemini API ç”Ÿæˆå›¾åƒï¼Œå¹¶ä¿å­˜åˆ°æœ¬åœ° output æ–‡ä»¶å¤¹
"""

from google import genai
from google.genai import types
import os
from datetime import datetime

# ============================================================================
# é…ç½®éƒ¨åˆ†
# ============================================================================

# DMXAPI å¯†é’¥å’ŒåŸºç¡€ URL
api_key = "sk-***************************************"  # æ›¿æ¢ä¸ºä½ çš„ DMXAPI å¯†é’¥
BASE_URL = "https://www.dmxapi.cn"

# åˆ›å»º Gemini å®¢æˆ·ç«¯
client = genai.Client(api_key=api_key, http_options={'base_url': BASE_URL})

# ============================================================================
# å›¾åƒç”Ÿæˆæç¤ºè¯
# ============================================================================

# å®šä¹‰å›¾åƒç”Ÿæˆçš„æç¤ºè¯
prompt = (
    "Visualize the current weather forecast for the next 5 days in ShangHi as a clean, modern weather chart. Add a visual on what I should wear each day"
)

# ============================================================================
# è°ƒç”¨ DMXAPI ç”Ÿæˆå›¾åƒ
# ============================================================================

response = client.models.generate_content(
    # æ¨¡å‹åç§°
    model="gemini-3-pro-image-preview",  # ä½¿ç”¨ Gemini 3 Pro å›¾åƒé¢„è§ˆæ¨¡å‹

    # è¾“å…¥å†…å®¹
    contents=[prompt],

    # ç”Ÿæˆé…ç½®
    config=types.GenerateContentConfig(
        # response_modalities: è®¾ç½®å“åº”æ¨¡æ€
        # - ['Image']: ä»…è¿”å›å›¾ç‰‡ï¼Œä¸è¿”å›æ–‡æœ¬
        # - ['Text', 'Image']: åŒæ—¶è¿”å›æ–‡æœ¬å’Œå›¾ç‰‡ï¼ˆé»˜è®¤å€¼ï¼‰
        # gemini-2.5-flash-image ä¸èƒ½ä½¿ç”¨è¯¥å‚æ•°
        response_modalities=['Image'],

        # image_config: å›¾åƒé…ç½®é€‰é¡¹
        image_config=types.ImageConfig(
            # aspect_ratio: è®¾ç½®è¾“å‡ºå›¾ç‰‡çš„å®½é«˜æ¯”ï¼ˆæ³¨æ„ï¼šä½¿ç”¨é©¼å³°å‘½åï¼‰
            #
            # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            # â”‚ Gemini 2.5 Flash                                                â”‚
            # â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
            # â”‚ å®½é«˜æ¯”    â”‚ åˆ†è¾¨ç‡      â”‚ ä»¤ç‰Œ    â”‚                               â”‚
            # â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤                               â”‚
            # â”‚ 1:1      â”‚ 1024x1024   â”‚ 1290   â”‚                               â”‚
            # â”‚ 2:3      â”‚ 832x1248    â”‚ 1290   â”‚                               â”‚
            # â”‚ 3:2      â”‚ 1248x832    â”‚ 1290   â”‚                               â”‚
            # â”‚ 3:4      â”‚ 864x1184    â”‚ 1290   â”‚                               â”‚
            # â”‚ 4:3      â”‚ 1184x864    â”‚ 1290   â”‚                               â”‚
            # â”‚ 4:5      â”‚ 896x1152    â”‚ 1290   â”‚                               â”‚
            # â”‚ 5:4      â”‚ 1152x896    â”‚ 1290   â”‚                               â”‚
            # â”‚ 9:16     â”‚ 768x1344    â”‚ 1290   â”‚                               â”‚
            # â”‚ 16:9     â”‚ 1344x768    â”‚ 1290   â”‚                               â”‚
            # â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
            # â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            #
            # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            # â”‚ Gemini 3 Pro Image é¢„è§ˆç‰ˆ                                        â”‚
            # â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
            # â”‚ å®½é«˜æ¯”    â”‚ 1K åˆ†è¾¨ç‡   â”‚ 1Kä»¤ç‰Œ  â”‚ 2K åˆ†è¾¨ç‡   â”‚ 4K åˆ†è¾¨ç‡      â”‚â”‚
            # â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
            # â”‚ 1:1      â”‚ 1024x1024   â”‚ 1210   â”‚ 2048x2048   â”‚ 4096x4096     â”‚â”‚
            # â”‚ 2:3      â”‚ 848x1264    â”‚ 1210   â”‚ 1696x2528   â”‚ 3392x5056     â”‚â”‚
            # â”‚ 3:2      â”‚ 1264x848    â”‚ 1210   â”‚ 2528x1696   â”‚ 5056x3392     â”‚â”‚
            # â”‚ 3:4      â”‚ 896x1200    â”‚ 1210   â”‚ 1792x2400   â”‚ 3584x4800     â”‚â”‚
            # â”‚ 4:3      â”‚ 1200x896    â”‚ 1210   â”‚ 2400x1792   â”‚ 4800x3584     â”‚â”‚
            # â”‚ 4:5      â”‚ 928x1152    â”‚ 1210   â”‚ 1856x2304   â”‚ 3712x4608     â”‚â”‚
            # â”‚ 5:4      â”‚ 1152x928    â”‚ 1210   â”‚ 2304x1856   â”‚ 4608x3712     â”‚â”‚
            # â”‚ 9:16     â”‚ 768x1376    â”‚ 1210   â”‚ 1536x2752   â”‚ 3072x5504     â”‚â”‚
            # â”‚ 16:9     â”‚ 1376x768    â”‚ 1210   â”‚ 2752x1536   â”‚ 5504x3072     â”‚â”‚
            # â”‚ 21:9     â”‚ 1584x672    â”‚ 1210   â”‚ 3168x1344   â”‚ 6336x2688     â”‚â”‚
            # â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
            # â”‚ æ³¨: 2K/4K åˆ†è¾¨ç‡ä»¤ç‰Œåˆ†åˆ«ä¸º 1210/2000                             â”‚
            # â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            #
            aspect_ratio="1:1",

            # image_size: è®¾ç½®è¾“å‡ºå›¾ç‰‡çš„åˆ†è¾¨ç‡ï¼ˆä»… Gemini 3 Pro Image é¢„è§ˆç‰ˆæ”¯æŒï¼‰
            # - "1K": 1K åˆ†è¾¨ç‡ï¼ˆé»˜è®¤å€¼ï¼Œæ‰€æœ‰æ¨¡å‹å‡æ”¯æŒï¼‰
            # - "2K": 2K åˆ†è¾¨ç‡ï¼ˆä»… Gemini 3 Pro Image é¢„è§ˆç‰ˆï¼‰
            # - "4K": 4K åˆ†è¾¨ç‡ï¼ˆä»… Gemini 3 Pro Image é¢„è§ˆç‰ˆï¼‰
            # gemini-2.5-flash-image ä¸èƒ½ä½¿ç”¨è¯¥å‚æ•°
            # image_size="1K",
        ),

        # tools: Google æœç´¢å·¥å…·ï¼ˆå¯é€‰ï¼‰
        # - ä½¿ç”¨å®æ—¶ä¿¡æ¯ç”Ÿæˆå›¾åƒï¼ˆå¦‚å¤©æ°”é¢„æŠ¥ã€è‚¡å¸‚å›¾è¡¨ã€è¿‘æœŸæ´»åŠ¨ç­‰ï¼‰
        # - æ³¨æ„: ä½¿ç”¨æœç´¢å·¥å…·æ—¶å¿…é¡»è®¾ç½® response_modalities=['Text', 'Image']
        # - å›¾ç‰‡ä¸“ç”¨æ¨¡å¼ ['Image'] ä¸æœç´¢å·¥å…·ä¸å…¼å®¹
        # ç¤ºä¾‹: tools=[{"google_search": {}}]
        # gemini-2.5-flash-image ä¸èƒ½ä½¿ç”¨è¯¥å‚æ•°
        # tools=[{"google_search": {}}]
    )
)

# ============================================================================
# å¤„ç†å“åº”å¹¶ä¿å­˜å›¾åƒ
# ============================================================================

for part in response.parts:
    # å¤„ç†æ–‡æœ¬å“åº”ï¼ˆå¦‚æœæœ‰ï¼‰
    if part.text is not None:
        print(part.text)

    # å¤„ç†å›¾åƒå“åº”
    elif part.inline_data is not None:
        # ç¡®ä¿ output æ–‡ä»¶å¤¹å­˜åœ¨
        os.makedirs("output", exist_ok=True)

        # ç”Ÿæˆå¸¦æ—¶é—´æˆ³çš„æ–‡ä»¶å
        # æ ¼å¼: generated_image_20250121_143052.png (å¹´æœˆæ—¥_æ—¶åˆ†ç§’)
        timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
        filename = f"output/generated_image_{timestamp}.png"

        # å°†å“åº”æ•°æ®è½¬æ¢ä¸º PIL Image å¯¹è±¡
        image = part.as_image()

        # ä¿å­˜å›¾åƒåˆ°æ–‡ä»¶
        image.save(filename)

        # è¾“å‡ºä¿å­˜æˆåŠŸçš„æç¤ºä¿¡æ¯
        print(f"å›¾ç‰‡å·²ä¿å­˜åˆ° {filename}")
```

### è¿è¡Œç»“æœ

æ‰§è¡ŒæˆåŠŸåï¼Œä¼šåœ¨ `output` ç›®å½•ä¸‹ç”Ÿæˆå›¾åƒæ–‡ä»¶ï¼š

```
å›¾ç‰‡å·²ä¿å­˜åˆ° output/generated_image_20251210_110819.png
```

## python request ä»£ç ç¤ºä¾‹
```python
"""
Gemini 3 Pro Image Preview - æ–‡ç”Ÿå›¾ API è°ƒç”¨ç¤ºä¾‹
=================================================
"""

import requests  # HTTP è¯·æ±‚åº“
import base64    # Base64 ç¼–è§£ç åº“

# ============================================================================
# API é…ç½®
# ============================================================================
# DMXAPI å¯†é’¥ (è¯·æ›¿æ¢ä¸ºä½ çš„å®é™…å¯†é’¥)
API_KEY = "sk-****************************************"

# API è¯·æ±‚åœ°å€
API_URL = "https://www.dmxapi.cn/v1beta/models/gemini-3-pro-image-preview:generateContent"

# ============================================================================
# è¯·æ±‚å¤´
# ============================================================================
headers = {
    "x-goog-api-key": API_KEY,       # API è®¤è¯å¯†é’¥
    "Content-Type": "application/json"  # è¯·æ±‚å†…å®¹ç±»å‹ä¸º JSON
}

# ============================================================================
# è¯·æ±‚ä½“
# ============================================================================
data = {
    "contents": [{                   # å†…å®¹æ•°ç»„
        "parts": [                   # æ¶ˆæ¯éƒ¨åˆ†
            {
                # å›¾ç‰‡ç”Ÿæˆæç¤ºè¯ (ä¿®æ”¹æ­¤å¤„æè¿°ä½ æƒ³è¦ç”Ÿæˆçš„å›¾ç‰‡)
                "text": "ç”Ÿæˆä¸€ä¸ªç¾ä¸½çš„æ—¥è½é£æ™¯ï¼Œè‰²å½©ä¸°å¯Œï¼Œå……æ»¡è‰ºæœ¯æ„Ÿã€‚",
            }
        ]
    }],

    # ========================================================================
    # ç”Ÿæˆé…ç½®
    # ========================================================================
    "generationConfig": {
        # responseModalities: è®¾ç½®å“åº”æ¨¡æ€
        # - ["IMAGE"]: ä»…è¿”å›å›¾ç‰‡ï¼Œä¸è¿”å›æ–‡æœ¬
        # - ["TEXT", "IMAGE"]: åŒæ—¶è¿”å›æ–‡æœ¬å’Œå›¾ç‰‡ï¼ˆé»˜è®¤å€¼ï¼‰
        "responseModalities": ["IMAGE"],

        # imageConfig: å›¾åƒé…ç½®é€‰é¡¹
        "imageConfig": {
            # aspectRatio: è®¾ç½®è¾“å‡ºå›¾ç‰‡çš„å®½é«˜æ¯”
            #
            # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            # â”‚ Gemini 2.5 Flash                                                â”‚
            # â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
            # â”‚ å®½é«˜æ¯”    â”‚ åˆ†è¾¨ç‡      â”‚ ä»¤ç‰Œ    â”‚                               â”‚
            # â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤                               â”‚
            # â”‚ 1:1      â”‚ 1024x1024   â”‚ 1290   â”‚                               â”‚
            # â”‚ 2:3      â”‚ 832x1248    â”‚ 1290   â”‚                               â”‚
            # â”‚ 3:2      â”‚ 1248x832    â”‚ 1290   â”‚                               â”‚
            # â”‚ 3:4      â”‚ 864x1184    â”‚ 1290   â”‚                               â”‚
            # â”‚ 4:3      â”‚ 1184x864    â”‚ 1290   â”‚                               â”‚
            # â”‚ 4:5      â”‚ 896x1152    â”‚ 1290   â”‚                               â”‚
            # â”‚ 5:4      â”‚ 1152x896    â”‚ 1290   â”‚                               â”‚
            # â”‚ 9:16     â”‚ 768x1344    â”‚ 1290   â”‚                               â”‚
            # â”‚ 16:9     â”‚ 1344x768    â”‚ 1290   â”‚                               â”‚
            # â”‚ 21:9     â”‚ 1536x672    â”‚ 1290   â”‚                               â”‚
            # â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
            # â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            #
            # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            # â”‚ Gemini 3 Pro Image é¢„è§ˆç‰ˆ                                        â”‚
            # â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
            # â”‚ å®½é«˜æ¯”    â”‚ 1K åˆ†è¾¨ç‡   â”‚ 1Kä»¤ç‰Œ  â”‚ 2K åˆ†è¾¨ç‡   â”‚ 4K åˆ†è¾¨ç‡      â”‚â”‚
            # â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
            # â”‚ 1:1      â”‚ 1024x1024   â”‚ 1210   â”‚ 2048x2048   â”‚ 4096x4096     â”‚â”‚
            # â”‚ 2:3      â”‚ 848x1264    â”‚ 1210   â”‚ 1696x2528   â”‚ 3392x5056     â”‚â”‚
            # â”‚ 3:2      â”‚ 1264x848    â”‚ 1210   â”‚ 2528x1696   â”‚ 5056x3392     â”‚â”‚
            # â”‚ 3:4      â”‚ 896x1200    â”‚ 1210   â”‚ 1792x2400   â”‚ 3584x4800     â”‚â”‚
            # â”‚ 4:3      â”‚ 1200x896    â”‚ 1210   â”‚ 2400x1792   â”‚ 4800x3584     â”‚â”‚
            # â”‚ 4:5      â”‚ 928x1152    â”‚ 1210   â”‚ 1856x2304   â”‚ 3712x4608     â”‚â”‚
            # â”‚ 5:4      â”‚ 1152x928    â”‚ 1210   â”‚ 2304x1856   â”‚ 4608x3712     â”‚â”‚
            # â”‚ 9:16     â”‚ 768x1376    â”‚ 1210   â”‚ 1536x2752   â”‚ 3072x5504     â”‚â”‚
            # â”‚ 16:9     â”‚ 1376x768    â”‚ 1210   â”‚ 2752x1536   â”‚ 5504x3072     â”‚â”‚
            # â”‚ 21:9     â”‚ 1584x672    â”‚ 1210   â”‚ 3168x1344   â”‚ 6336x2688     â”‚â”‚
            # â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
            # â”‚ æ³¨: 2K/4K åˆ†è¾¨ç‡ä»¤ç‰Œåˆ†åˆ«ä¸º 1210/2000                             â”‚
            # â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            "aspectRatio": "1:1",

            # image_size: è®¾ç½®è¾“å‡ºå›¾ç‰‡çš„åˆ†è¾¨ç‡ï¼ˆä»… Gemini 3 Pro Image é¢„è§ˆç‰ˆæ”¯æŒï¼‰
            # - "1K": 1K åˆ†è¾¨ç‡ï¼ˆé»˜è®¤å€¼ï¼Œæ‰€æœ‰æ¨¡å‹å‡æ”¯æŒï¼‰
            # - "2K": 2K åˆ†è¾¨ç‡ï¼ˆä»… Gemini 3 Pro Image é¢„è§ˆç‰ˆï¼‰
            # - "4K": 4K åˆ†è¾¨ç‡ï¼ˆä»… Gemini 3 Pro Image é¢„è§ˆç‰ˆï¼‰
            # gemini-2.5-flash-image ä¸èƒ½ä½¿ç”¨è¯¥å‚æ•°
            # image_size="1K",
        }
    },

    # ========================================================================
    # å·¥å…·é…ç½®ï¼ˆå¯é€‰ï¼‰
    # ========================================================================
    # tools: Google æœç´¢å·¥å…·
    # - ä½¿ç”¨å®æ—¶ä¿¡æ¯ç”Ÿæˆå›¾åƒï¼ˆå¦‚æ ¹æ®æœ€æ–°èµ„è®¯æ·»åŠ å…ƒç´ ç­‰ï¼‰
    # - æ³¨æ„: ä½¿ç”¨æœç´¢å·¥å…·æ—¶å¿…é¡»è®¾ç½® responseModalities: ["TEXT", "IMAGE"]
    # - å›¾ç‰‡ä¸“ç”¨æ¨¡å¼ ["IMAGE"] ä¸æœç´¢å·¥å…·ä¸å…¼å®¹
    # "tools": [{"google_search": {}}]
}

# ============================================================================
# å‘é€è¯·æ±‚
# ============================================================================
response = requests.post(
    API_URL,          # è¯·æ±‚åœ°å€
    headers=headers,  # è¯·æ±‚å¤´
    json=data         # è¯·æ±‚ä½“ (è‡ªåŠ¨åºåˆ—åŒ–ä¸º JSON)
)

# ============================================================================
# å“åº”å¤„ç†
# ============================================================================
if response.status_code == 200:
    # è¯·æ±‚æˆåŠŸï¼Œè§£æ JSON å“åº”
    result = response.json()

    try:
        # å“åº”ç»“æ„: candidates[0].content.parts[].inlineData.data
        parts = result["candidates"][0]["content"]["parts"]

        for part in parts:
            # æ£€æŸ¥æ˜¯å¦åŒ…å«å›¾ç‰‡æ•°æ®
            if "inlineData" in part:
                # æå– Base64 ç¼–ç çš„å›¾ç‰‡æ•°æ®
                image_data = part["inlineData"]["data"]

                # Base64 è§£ç ä¸ºäºŒè¿›åˆ¶æ•°æ®
                image_bytes = base64.b64decode(image_data)

                # è¾“å‡ºæ–‡ä»¶å
                output_file = "gemini-native-image.png"

                # å†™å…¥æ–‡ä»¶
                with open(output_file, "wb") as f:
                    f.write(image_bytes)

                print(f"[æˆåŠŸ] å›¾ç‰‡å·²ä¿å­˜: {output_file}")
                break

    except (KeyError, IndexError) as e:
        # å“åº”ç»“æ„å¼‚å¸¸
        print(f"[é”™è¯¯] å“åº”è§£æå¤±è´¥: {e}")
        print(f"[è°ƒè¯•] å“åº”å†…å®¹: {result}")

else:
    # è¯·æ±‚å¤±è´¥
    print(f"[é”™è¯¯] API è¯·æ±‚å¤±è´¥, çŠ¶æ€ç : {response.status_code}")
    print(f"[è°ƒè¯•] é”™è¯¯ä¿¡æ¯: {response.text}")

```

### è¿è¡Œç»“æœ
```json
[æˆåŠŸ] å›¾ç‰‡å·²ä¿å­˜: gemini-native-image.png
```
## æ³¨æ„äº‹é¡¹

- è¯·å°†ä»£ç ä¸­çš„ API å¯†é’¥æ›¿æ¢ä¸ºä½ è‡ªå·±çš„ DMXAPI å¯†é’¥
- ç”Ÿæˆçš„å›¾åƒä¼šè‡ªåŠ¨ä¿å­˜åˆ° `output` æ–‡ä»¶å¤¹ï¼ˆå¦‚ä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰
- `response_modalities` å‚æ•°å¯ä»¥æ§åˆ¶è¿”å›å†…å®¹ç±»å‹ï¼ˆä»…å›¾åƒæˆ–å›¾åƒ+æ–‡æœ¬ï¼‰
- ä¸ºè·å¾—æœ€ä½³æ€§èƒ½ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹è¯­è¨€ï¼šè‹±è¯­ã€é˜¿æ‹‰ä¼¯è¯­ï¼ˆåŸƒåŠï¼‰ã€å¾·è¯­ï¼ˆå¾·å›½ï¼‰ã€è¥¿ç­ç‰™è¯­ï¼ˆå¢¨è¥¿å“¥ï¼‰ã€æ³•è¯­ï¼ˆæ³•å›½ï¼‰ã€å°åœ°è¯­ï¼ˆå°åº¦ï¼‰ã€å°åº¦å°¼è¥¿äºšè¯­ï¼ˆå°åº¦å°¼è¥¿äºšï¼‰ã€æ„å¤§åˆ©è¯­ï¼ˆæ„å¤§åˆ©ï¼‰ã€æ—¥è¯­ï¼ˆæ—¥æœ¬ï¼‰ã€éŸ©è¯­ï¼ˆéŸ©å›½ï¼‰ã€è‘¡è„ç‰™è¯­ï¼ˆå·´è¥¿ï¼‰ã€ä¿„è¯­ï¼ˆä¿„ç½—æ–¯ï¼‰ã€ä¹Œå…‹å…°è¯­ï¼ˆä¹Œå…‹å…°ï¼‰ã€è¶Šå—è¯­ï¼ˆè¶Šå—ï¼‰ã€ä¸­æ–‡ï¼ˆä¸­å›½ï¼‰ã€‚
- gemini-2.5-flash-image æœ€å¤šå¯æ¥å— 3 å¼ å›¾ç‰‡ä½œä¸ºè¾“å…¥ï¼Œè€Œ gemini-3-pro-image-preview æ”¯æŒ 5 å¼ é«˜ä¿çœŸå›¾ç‰‡ï¼Œæ€»å…±æœ€å¤šå¯æ¥å— 14 å¼ å›¾ç‰‡ã€‚

---

<p align="center">
  <small>Â© 2025 DMXAPI Geminiæ¨¡å‹ ğŸŒ</small>
</p>