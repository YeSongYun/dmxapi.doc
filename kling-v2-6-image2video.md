#  å¯çµè§†é¢‘æ¨¡å‹ kling-v2-6-image2video APIä½¿ç”¨æ–‡æ¡£ï¼ˆå¼‚æ­¥ï¼‰

åŸºäºå‰æ²¿çš„æ·±åº¦å­¦ä¹ æ¶æ„ï¼Œå¯çµ AI å…·å¤‡å“è¶Šçš„æ–‡ç”Ÿè§†é¢‘ä¸å›¾ç”Ÿè§†é¢‘èƒ½åŠ›ã€‚å®ƒçªç ´äº†ä¼ ç»Ÿ AI è§†é¢‘ç”Ÿæˆçš„ç“¶é¢ˆï¼Œèƒ½ç²¾å‡†æ¨¡æ‹Ÿç‰©ç†ä¸–ç•Œçš„è¿åŠ¨è§„å¾‹ï¼Œç¡®ä¿ç”»é¢åŠ¨æ€æµç•…ã€ä¸»ä½“é«˜åº¦ä¸€è‡´ã€‚ä½œä¸ºå…¨çƒè§†é¢‘ç”Ÿæˆé¢†åŸŸçš„ç¬¬ä¸€æ¢¯é˜Ÿäº§å“ï¼Œå¯çµ AI æ€§èƒ½å¯¹æ ‡å›½é™…é¡¶å°–æ¨¡å‹ï¼Œä¸”å·²å…¨é¢å¼€æ”¾ä½¿ç”¨ï¼Œè‡´åŠ›äºä¸ºåˆ›ä½œè€…æä¾›è§¦æ‰‹å¯åŠçš„ä¸“ä¸šçº§è§†é¢‘åˆ›ä½œä½“éªŒã€‚


## ğŸ°æ¨¡å‹åç§°
`kling-v2-6-image2video`


## ğŸš—æ¥å£åœ°å€

è§†é¢‘ç”Ÿæˆéœ€åˆ†ä¸¤æ­¥ï¼š  
1. æäº¤è§†é¢‘ç”Ÿæˆä»»åŠ¡  
2. æ ¹æ®è¿”å›çš„ `ID` æŸ¥è¯¢ç»“æœ  

| åŠŸèƒ½ | ç«¯ç‚¹ |
|------|------|
| æäº¤è§†é¢‘ä»»åŠ¡ | `https://www.dmxapi.cn/v1/responses` |
| æŸ¥è¯¢è§†é¢‘ç»“æœ | `https://www.dmxapi.cn/v1/responses` |
## â˜€ï¸éƒ¨åˆ†å¯é€‰å‚æ•°
- `duration`ï¼šè§†é¢‘æ—¶é•¿ï¼ˆå•ä½ï¼šç§’ï¼‰ï¼Œå¯é€‰å€¼ï¼š`5` / `10`  


## âœˆï¸ç”Ÿæˆè§†é¢‘ ç¤ºä¾‹ä»£ç 
```python
"""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  æ¨¡å‹è°ƒç”¨ç¤ºä¾‹                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ åŠŸèƒ½è¯´æ˜:
   é€šè¿‡ responses æ¥å£è¿›è¡Œå¯¹è¯äº¤äº’ï¼ˆéæµå¼è¾“å‡ºï¼‰
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
"""
import requests
import json

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”‘ æ­¥éª¤1: é…ç½® API è¿æ¥ä¿¡æ¯
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# ğŸŒ DMXAPI æœåŠ¡ç«¯ç‚¹åœ°å€
url = "https://www.dmxapi.cn/v1/responses"

# ğŸ” DMXAPI å¯†é’¥ (è¯·æ›¿æ¢ä¸ºæ‚¨è‡ªå·±çš„å¯†é’¥)
# è·å–æ–¹å¼: ç™»å½• DMXAPI å®˜ç½‘ -> ä¸ªäººä¸­å¿ƒ -> API å¯†é’¥ç®¡ç†
api_key = "sk-************************************"


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ“‹ æ­¥éª¤2: é…ç½®è¯·æ±‚å¤´
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

headers = {
    "Content-Type": "application/json",      # æŒ‡å®šè¯·æ±‚ä½“ä¸º JSON æ ¼å¼
    "Authorization": f"{api_key}",           # token è®¤è¯æ–¹å¼
}


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ’¬ æ­¥éª¤3: é…ç½®è¯·æ±‚å‚æ•°
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

payload = {
    # ğŸ¤– æ¨¡å‹åç§°
    # - å›ºå®šå€¼: "kling-v2-6-image2video"
    # - è¯´æ˜: Kling V2.6 å›¾ç”Ÿè§†é¢‘æ¨¡å‹
    "model": "kling-v2-6-image2video",
             

    # ğŸ“ æç¤ºè¯ï¼ˆå¿…å¡«ï¼‰
    # - ç±»å‹: å­—ç¬¦ä¸²
    # - è¯´æ˜: æè¿°è§†é¢‘ä¸­çš„åŠ¨ä½œã€åœºæ™¯å˜åŒ–ç­‰
    # - å»ºè®®: æ¸…æ™°æè¿°æƒ³è¦çš„åŠ¨ä½œæ•ˆæœï¼Œé¿å…è¿‡äºå¤æ‚çš„æè¿°
    # - ç¤ºä¾‹: "å®‡èˆªå‘˜ç«™èµ·èº«èµ°äº†"ã€"èŠ±ç“£éšé£é£˜è½"
    "input": "å®‡èˆªå‘˜ç«™èµ·èº«å“¼ç€æ­Œèµ°äº†",

    # ğŸ–¼ï¸ é¦–å¸§å›¾ç‰‡ï¼ˆå¿…å¡«ï¼‰
    # - ç±»å‹: å›¾ç‰‡URLï¼ˆæ”¯æŒ http/httpsï¼‰
    # - è¯´æ˜: è§†é¢‘çš„èµ·å§‹ç”»é¢ï¼ŒAI å°†åŸºäºæ­¤å›¾ç‰‡ç”ŸæˆåŠ¨æ€è§†é¢‘
    # - æ ¼å¼: æ”¯æŒ JPGã€PNG ç­‰å¸¸è§å›¾ç‰‡æ ¼å¼
    # - å»ºè®®: ä½¿ç”¨é«˜æ¸…å›¾ç‰‡ä»¥è·å¾—æ›´å¥½çš„ç”Ÿæˆæ•ˆæœ
    "image": "https://h2.inkwai.com/bs2/upload-ylab-stunt/se/ai_portal_queue_mmu_image_upscale_aiweb/3214b798-e1b4-4b00-b7af-72b5b0417420_raw_image_0.jpg",

    # ğŸ¬ å°¾å¸§å›¾ç‰‡ï¼ˆå¯é€‰ï¼‰
    # - ç±»å‹: å›¾ç‰‡URL æˆ– ç©ºå­—ç¬¦ä¸²
    # - è¯´æ˜: è§†é¢‘çš„ç»“æŸç”»é¢ï¼ŒAI å°†ä»é¦–å¸§è¿‡æ¸¡åˆ°å°¾å¸§
    # - ç”¨é€”: ç²¾ç¡®æ§åˆ¶è§†é¢‘çš„èµ·æ­¢çŠ¶æ€
    # - ç•™ç©º: ç”± AI è‡ªåŠ¨ç”Ÿæˆç»“æŸç”»é¢
    "image_tail": "",

    # ğŸš« è´Ÿå‘æç¤ºè¯ï¼ˆå¯é€‰ï¼‰
    # - ç±»å‹: å­—ç¬¦ä¸²
    # - è¯´æ˜: æè¿°ä¸å¸Œæœ›å‡ºç°çš„å†…å®¹æˆ–æ•ˆæœ
    # - ç¤ºä¾‹: "æ¨¡ç³Šã€å¤±çœŸã€å˜å½¢ã€å¤šä½™çš„è‚¢ä½“"
    # - ç•™ç©º: ä¸ä½¿ç”¨è´Ÿå‘æç¤º
    "negative_prompt": "",

    # âš™ï¸ ç”Ÿæˆæ¨¡å¼ï¼ˆå¿…å¡«ï¼‰
    # - å¯é€‰å€¼: "pro" (é«˜å“è´¨æ¨¡å¼)
    # - è¯´æ˜: pro æ¨¡å¼æä¾›æ›´é«˜è´¨é‡çš„è§†é¢‘ç”Ÿæˆæ•ˆæœ
    # - é»˜è®¤: "pro"
    "mode": "pro",

    # ğŸ”Š éŸ³æ•ˆå¼€å…³ï¼ˆå¯é€‰ï¼‰
    # - å¯é€‰å€¼: "on" (å¼€å¯) / "off" (å…³é—­)
    # - è¯´æ˜: æ˜¯å¦ä¸ºç”Ÿæˆçš„è§†é¢‘æ·»åŠ  AI é…éŸ³
    # - é»˜è®¤: "on"
    "sound": "on",

    # ğŸ¤ è¯­éŸ³åˆ—è¡¨ï¼ˆå¯é€‰ï¼Œéœ€é…åˆ sound="on" ä½¿ç”¨ï¼‰
    # - ç±»å‹: æ•°ç»„ï¼ŒåŒ…å«è¯­éŸ³IDå¯¹è±¡
    # - è¯´æ˜: æŒ‡å®šç‰¹å®šçš„é…éŸ³è§’è‰²
    # - ç¤ºä¾‹: [{"voiceId": "genshin_vindi2"}]
    # - ç•™ç©º: ä½¿ç”¨é»˜è®¤é…éŸ³
    # "voice_list": [
    #     {"voiceId": "genshin_vindi2"}
    # ],

    # ğŸ“ å®½é«˜æ¯”ï¼ˆå¿…å¡«ï¼‰
    # - å¯é€‰å€¼:
    #   * "16:9" - æ¨ªå±è§†é¢‘ï¼ˆé€‚åˆç”µè„‘ã€ç”µè§†ï¼‰
    #   * "9:16" - ç«–å±è§†é¢‘ï¼ˆé€‚åˆæ‰‹æœºã€çŸ­è§†é¢‘å¹³å°ï¼‰
    #   * "1:1"  - æ–¹å½¢è§†é¢‘ï¼ˆé€‚åˆç¤¾äº¤åª’ä½“ï¼‰
    # - è¯´æ˜: å†³å®šè§†é¢‘çš„ç”»é¢æ¯”ä¾‹
    "aspect_ratio": "16:9",

    # â±ï¸ è§†é¢‘æ—¶é•¿ï¼ˆå¿…å¡«ï¼‰
    # - å¯é€‰å€¼: 5 æˆ– 10ï¼ˆå•ä½ï¼šç§’ï¼‰
    # - è¯´æ˜: ç”Ÿæˆè§†é¢‘çš„æŒç»­æ—¶é—´
    # - æ³¨æ„: æ—¶é•¿è¶Šé•¿ï¼Œç”Ÿæˆæ—¶é—´è¶Šä¹…ï¼Œæ¶ˆè€—èµ„æºè¶Šå¤š
    "duration": 10,

    # ğŸ”” å›è°ƒåœ°å€ï¼ˆå¯é€‰ï¼‰
    # - ç±»å‹: HTTP/HTTPS URL æˆ– ç©ºå­—ç¬¦ä¸²
    # - è¯´æ˜: è§†é¢‘ç”Ÿæˆå®Œæˆåï¼Œç³»ç»Ÿå°†å‘æ­¤åœ°å€å‘é€ POST è¯·æ±‚é€šçŸ¥
    # - æ ¼å¼: å®Œæ•´çš„ URL åœ°å€ï¼ˆå¦‚ "https://your-domain.com/callback"ï¼‰
    # - ç•™ç©º: ä¸ä½¿ç”¨å›è°ƒé€šçŸ¥ï¼Œéœ€æ‰‹åŠ¨æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
    "callback_url": ""
}


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ“¤ æ­¥éª¤4: å‘é€è¯·æ±‚å¹¶è¾“å‡ºç»“æœ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# å‘é€ POST è¯·æ±‚åˆ° API æœåŠ¡å™¨
response = requests.post(url, headers=headers, json=payload)

# æ ¼å¼åŒ–è¾“å‡º JSON å“åº”
# - indent=2: ç¼©è¿› 2 ç©ºæ ¼ï¼Œä¾¿äºé˜…è¯»
# - ensure_ascii=False: æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡å­—ç¬¦
print(json.dumps(response.json(), indent=2, ensure_ascii=False))

```
## ğŸ¯è¿”å›ç¤ºä¾‹

```json
{
  "code": 0,
  "message": "SUCCEED",
  "request_id": "8e8c4c70-d9bc-4a34-8cae-34edca295a1b",
  "data": {
    "task_id": "842081252995395657",
    "task_status": "submitted",
    "task_status_msg": "",
    "task_info": {},
    "created_at": 1768796217405,
    "updated_at": 1768796217405
  },
  "usage": {
    "total_tokens": 8500,
    "input_tokens": 0,
    "input_tokens_details": {
      "cached_tokens": 0
    },
    "output_tokens": 8500,
    "output_tokens_details": {
      "reasoning_tokens": 0
    }
  }
}

```

##  ğŸš€æŸ¥è¯¢ç”Ÿæˆç»“æœ ç¤ºä¾‹ä»£ç 
::: tip æ³¨æ„
- è§†é¢‘ç”Ÿæˆéœ€è¦ä¸€å®šæ—¶é—´ï¼Œå»ºè®®å…ˆåœ¨ä»»åŠ¡æ—¥å¿— https://www.dmxapi.cn/task ä¸­ç¡®è®¤å®Œæˆåå†ä¸‹è½½ã€‚
- æ‚¨éœ€è¦ä½¿ç”¨è¯·æ±‚è¿”å›çš„ `id` æ¥è·å–è§†é¢‘æ–‡ä»¶ã€‚
:::

```python
"""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  Kling ä»»åŠ¡æŸ¥è¯¢ç¤ºä¾‹                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ åŠŸèƒ½è¯´æ˜:
   æœ¬è„šæœ¬æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ kling-image2video-get æ¨¡å‹æŸ¥è¯¢ Kling è§†é¢‘ç”Ÿæˆä»»åŠ¡çŠ¶æ€
   é€šè¿‡ responses æ¥å£è¿›è¡Œæµå¼æŸ¥è¯¢

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
"""
import requests
import json
import sys
import time
import threading

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”‘ æ­¥éª¤1: é…ç½® API è¿æ¥ä¿¡æ¯
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# ğŸŒ DMXAPI æœåŠ¡ç«¯ç‚¹åœ°å€
url = "https://www.dmxapi.cn/v1/responses"

# ğŸ” DMXAPI å¯†é’¥ (è¯·æ›¿æ¢ä¸ºæ‚¨è‡ªå·±çš„å¯†é’¥)
# è·å–æ–¹å¼: ç™»å½• DMXAPI å®˜ç½‘ -> ä¸ªäººä¸­å¿ƒ -> API å¯†é’¥ç®¡ç†
api_key = "sk-********************************************"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ“‹ æ­¥éª¤2: é…ç½®è¯·æ±‚å¤´
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

headers = {
    "Content-Type": "application/json",      # æŒ‡å®šè¯·æ±‚ä½“ä¸º JSON æ ¼å¼
    "Authorization": f"{api_key}",    # token è®¤è¯æ–¹å¼
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ’¬ æ­¥éª¤3: é…ç½®è¯·æ±‚å‚æ•°
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

payload = {
    "model": "kling-image2video-get",
    "input": "842081252995395657",
    "stream": True
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ“Š è¿›åº¦æ¡ç±»
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

class FakeProgressBar:
    """é¢„ä¼°è¿›åº¦æ¡"""

    def __init__(self):
        self.current_progress = 0
        self.running = False
        self.completed = False
        self.thread = None
        self.start_time = None

    def _render(self):
        """æ¸²æŸ“è¿›åº¦æ¡"""
        bar_length = 40
        filled = int(bar_length * self.current_progress / 100)
        bar = "â–ˆ" * filled + "â–‘" * (bar_length - filled)
        sys.stdout.write(f"\râ³ å¤„ç†ä¸­: [{bar}] {self.current_progress:.1f}%")
        sys.stdout.flush()

    def _run(self):
    
        self.start_time = time.time()
        while self.running:
            elapsed = time.time() - self.start_time
            # ä½¿ç”¨æ¸è¿‘å‡½æ•°ï¼šè¿›åº¦æ°¸è¿œæ¥è¿‘ä½†ä¸ä¼šåˆ°è¾¾99.9%
            # å‰3åˆ†é’Ÿæ¶¨åˆ°çº¦95%ï¼Œä¹‹åè¶Šæ¥è¶Šæ…¢ä½†ä¸€ç›´åœ¨æ¶¨
            self.current_progress = 99.9 * (1 - 1 / (1 + elapsed / 60))
            self._render()
            time.sleep(0.1)

    def start(self):
        """å¯åŠ¨è¿›åº¦æ¡"""
        self.running = True
        self.thread = threading.Thread(target=self._run, daemon=True)
        self.thread.start()
        self._render()

    def complete(self):
        """å®Œæˆè¿›åº¦æ¡"""
        self.running = False
        self.completed = True
        self.current_progress = 100
        self._render()
        print()  # æ¢è¡Œ

    def stop(self):
        """åœæ­¢è¿›åº¦æ¡ï¼ˆä¸å®Œæˆï¼‰"""
        self.running = False
        print()


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ“¤ æ­¥éª¤4: å‘é€è¯·æ±‚å¹¶è¾“å‡ºç»“æœ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# åˆ›å»ºå¹¶å¯åŠ¨è¿›åº¦æ¡
progress = FakeProgressBar()
progress.start()

# å‘é€ POST è¯·æ±‚åˆ° API æœåŠ¡å™¨ï¼ˆå¯ç”¨æµå¼ä¼ è¾“ï¼‰
response = requests.post(url, headers=headers, json=payload, stream=True)

final_result = None

# æµå¼å¤„ç†å“åº”
# - é€è¡Œè¯»å– SSE æ ¼å¼çš„æ•°æ®
# - indent=2: ç¼©è¿› 2 ç©ºæ ¼ï¼Œä¾¿äºé˜…è¯»
# - ensure_ascii=False: æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡å­—ç¬¦
for line in response.iter_lines():
    if line:
        line_text = line.decode('utf-8')
        # å¤„ç† SSE æ ¼å¼æ•°æ®
        if line_text.startswith('data: '):
            data = line_text[6:]  # å»æ‰ "data: " å‰ç¼€
            if data != '[DONE]':
                try:
                    json_data = json.loads(data)
                    final_result = json_data
                except json.JSONDecodeError:
                    pass

# å®Œæˆè¿›åº¦æ¡å¹¶è¾“å‡ºç»“æœ
progress.complete()

print("\n" + "â•" * 60)
print("âœ… æŸ¥è¯¢å®Œæˆï¼")
print("â•" * 60 + "\n")

if final_result:
    # å°è¯•æå–è§†é¢‘URL
    try:
        status = final_result.get("response", {}).get("status", "")
        output = final_result.get("response", {}).get("output", [])

        if status == "completed" and output:
            text_content = output[0].get("content", [{}])[0].get("text", "")

            # æå–ä»»åŠ¡ID
            if "ä»»åŠ¡ID:" in text_content:
                task_id = text_content.split("ä»»åŠ¡ID:")[1].split("\n")[0].strip()
                print(f"ğŸ“‹ ä»»åŠ¡ID: {task_id}")

            # æå–è§†é¢‘URLï¼ˆæŸ¥æ‰¾ http å¼€å¤´åˆ° .mp4 ç»“å°¾çš„éƒ¨åˆ†ï¼ŒåŒ…æ‹¬æŸ¥è¯¢å‚æ•°ï¼‰
            import re
            url_match = re.search(r'(https?://[^\s]+\.mp4[^\s]*)', text_content)
            if url_match:
                video_url = url_match.group(1)
                # æ¸…ç†URLæœ«å°¾å¯èƒ½çš„æ‚å­—ç¬¦
                video_url = re.sub(r'[\n\r].*$', '', video_url)
                print(f"\nğŸ¬ è§†é¢‘é“¾æ¥:")
                print(video_url)

            # æå–æ—¶é•¿
            duration_match = re.search(r'æ—¶é•¿:\s*[\d.]+', text_content)
            if duration_match:
                print(f"\nâ±ï¸  {duration_match.group(0)}ç§’")
        else:
            # éå®ŒæˆçŠ¶æ€ï¼Œè¾“å‡ºåŸå§‹JSON
            print(json.dumps(final_result, indent=2, ensure_ascii=False))
    except Exception:
        # è§£æå¤±è´¥ï¼Œè¾“å‡ºåŸå§‹JSON
        print(json.dumps(final_result, indent=2, ensure_ascii=False))
```
## ğŸ¦è¿”å›ç¤ºä¾‹
```json
 å¤„ç†ä¸­: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100.0%

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… æŸ¥è¯¢å®Œæˆï¼
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ ä»»åŠ¡ID: 842081252995395657

ğŸ¬ è§†é¢‘é“¾æ¥:
https://v1-fdl.kechuangai.com/ksc2/d-CsDyB6823hG3qnUACoYjdhG9G12sC6UkF_nLqvs-5yEZlkWjHqnV86RSJVHyuQiN3IaJnoT069AP9FnpvElKLzLwjvRkWjHWiz1s4301sJ8VtV3GIuMOJxZJUhrMh3bWl7bRplBZLiBfSDcKwztMeLWpZAhIixyQaraDSjZIvGv_aBIglY6BTWU4ac7qZocgCDzqyqbNK0aU1IUP2WcA.mp4?cacheKey=ChtzZWN1cml0eS5rbGluZy5tZXRhX2VuY3J5cHQSsAFdyihqqUfiX6Zr-A0_TrB7_hui6pr05V5yq3ms5aMIRxUQg46RiCjRb_SRpdkJ1zG3m54LHoyR4bQFAGDp2mc8o7U1WlTR_StXbc645euu4uYOu63ckqOyE28Q-it4omJhbEHR4MsuPHVjbFLjwBwPCXj5MlttzBVb40p0GVeEiU126T0UHUSmFrmxnKDwg2XABuMZXqzDHQOci4qyw-09Eu6d5dMuh3Y5jeHov5pO7RoSiK-SiyTQu2yvu8rTuMxr8vOaIiDlXNMCsCErNpkj2P4QxbCO4eAy1IP_-hsfqkD1pFwotSgFMAE&x-kcdn-pid=112757&pkey=AAXUWmCwX5Kl7Tzi2ZfHBHY2oi0lDDS1AZXj27tdj_v1Xr26_SiwjLX8UTRqiPyabZfSZP4n0MGnmnqxP3TK7pdbQEX4_4YycByz9xTkj3c0qGG8A-0P_RvvBpx3RVYl5EY
```
---

<p align="center">
  <small>Â© 2025 DMXAPI kling-v2-6-image2video </small>
</p>